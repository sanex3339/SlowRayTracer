(function(f){if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=f()}else if(typeof define==="function"&&define.amd){define([],f)}else{var g;if(typeof window!=="undefined"){g=window}else if(typeof global!=="undefined"){g=global}else if(typeof self!=="undefined"){g=self}else{g=this}g.TraceWorker = f()}})(function(){var define,module,exports;return (function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
var Vector_1=require("./Vector"),Camera=function(){function t(t,r,e,o){this.position=t,this.direction=Vector_1.Vector.normalize(r),this.screenWidth=e,this.screenHeight=o,this.forwardVector=Vector_1.Vector.normalize(Vector_1.Vector.substract(this.direction,this.position)),this.rightVector=Vector_1.Vector.scale(Vector_1.Vector.normalize(Vector_1.Vector.cross(this.forwardVector,new Vector_1.Vector(0,-1,0))),3),this.upVector=Vector_1.Vector.scale(Vector_1.Vector.normalize(Vector_1.Vector.cross(this.forwardVector,this.rightVector)),3)}return t.prototype.getDirection=function(){return this.direction},t.prototype.getPosition=function(){return this.position},t.prototype.getForwardVector=function(){return this.forwardVector},t.prototype.getRightVector=function(){return this.rightVector},t.prototype.getUpVector=function(){return this.upVector},t.prototype.recenterX=function(t){var r=this.screenHeight/this.screenWidth*2;return(t-this.screenWidth/2)/r/this.screenWidth},t.prototype.recenterY=function(t){return-(t-this.screenHeight/2)/2/this.screenHeight},t}();exports.Camera=Camera;


},{"./Vector":14}],2:[function(require,module,exports){
var RGBColor_1=require("./RGBColor"),FloatColor_1=require("./FloatColor"),Color=function(){function o(o){this.red=o.red,this.green=o.green,this.blue=o.blue}return o.prototype.getColor=function(){return{red:this.red,green:this.green,blue:this.blue}},o.prototype.add=function(e){return new o(new FloatColor_1.FloatColor(this.red+e.red,this.green+e.green,this.blue+e.blue))},o.prototype.substract=function(e){return new o(new FloatColor_1.FloatColor(this.red-e.red,this.green-e.green,this.blue-e.blue))},o.prototype.scaled=function(e){return new o(new FloatColor_1.FloatColor(this.red*e,this.green*e,this.blue*e))},o.prototype.multiple=function(e){return new o(new FloatColor_1.FloatColor(this.red*e.red,this.green*e.green,this.blue*e.blue))},o.prototype.divide=function(e){return new o(new FloatColor_1.FloatColor(this.red/e,this.green/e,this.blue/e))},o.sRGBEncode=function(o){return.0031308>=o?12.92*o:1.055*Math.pow(o,.4166667)-.055},o.toRGB=function(e){return{red:Math.floor(255*o.clampColor(e.red)),green:Math.floor(255*o.clampColor(e.green)),blue:Math.floor(255*o.clampColor(e.blue))}},o.clampColor=function(o){return o>1?1:o},o.black=new o(new RGBColor_1.RGBColor(0,0,0)),o.white=new o(new RGBColor_1.RGBColor(255,255,255)),o.gray=new o(new RGBColor_1.RGBColor(127,127,127)),o.red=new o(new RGBColor_1.RGBColor(255,0,0)),o.green=new o(new RGBColor_1.RGBColor(0,255,0)),o.blue=new o(new RGBColor_1.RGBColor(0,0,255)),o}();exports.Color=Color;


},{"./FloatColor":3,"./RGBColor":4}],3:[function(require,module,exports){
var FloatColor=function(){function o(o,t,r){this.red=o,this.green=t,this.blue=r}return o}();exports.FloatColor=FloatColor;


},{}],4:[function(require,module,exports){
var RGBColor=function(){function o(t,r,n){this.red=o.toFloat(t),this.green=o.toFloat(r),this.blue=o.toFloat(n)}return o.toFloat=function(o){return 0===o?o:o/255},o}();exports.RGBColor=RGBColor;


},{}],5:[function(require,module,exports){
var IntersectPoint=function(){function t(){this.intersected=!1}return t.prototype.getIntersect=function(){return this.intersected},t.prototype.getHitPoint=function(){return this.hitPoint},t.prototype.getNormal=function(){return this.normal},t.prototype.getOwner=function(){return this.owner},t.prototype.getDistanceFromOrigin=function(){return this.distanceFromOrigin},t.prototype.setIntersect=function(){this.intersected=!0},t.prototype.setHitPoint=function(t){this.hitPoint=t},t.prototype.setNormal=function(t){this.normal=t},t.prototype.setOwner=function(t){this.owner=t},t.prototype.setDistanceFromOrigin=function(t){this.distanceFromOrigin=t},t}();exports.IntersectPoint=IntersectPoint;


},{}],6:[function(require,module,exports){
var Color_1=require("./Color/Color"),Material=function(){function o(o,t,e){this.emission=Color_1.Color.black,this.lambertCoeff=.5,this.phongCoeff=.5,this.reflectionCoeff=0,o&&(this.color=o),t&&(this.emission=t),e&&(this.reflectionCoeff=e)}return o.prototype.getColor=function(){return this.color},o.prototype.getEmission=function(){return this.emission},o.prototype.getEmissionValue=function(){return(this.emission.getColor().red+this.emission.getColor().green+this.emission.getColor().blue)/3},o.prototype.getLambertCoeff=function(){return this.lambertCoeff},o.prototype.getPhongCoeff=function(){return this.phongCoeff},o.prototype.getReflectionValue=function(){return this.reflectionCoeff},o.prototype.setLambertCoeff=function(o){return this.lambertCoeff=o,this.phongCoeff=1-o,this},o.prototype.setPhongCoeff=function(o){return this.phongCoeff=o,this.lambertCoeff=1-o,this},o}();exports.Material=Material;


},{"./Color/Color":2}],7:[function(require,module,exports){
var AbstractObject=function(){function t(){}return t}();exports.AbstractObject=AbstractObject;


},{}],8:[function(require,module,exports){
var __extends=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},AbstractObject_1=require("./AbstractObject"),Color_1=require("../Color/Color"),Material_1=require("../Material"),RTMath_1=require("../RTMath"),Vector_1=require("../Vector"),Plane=function(t){function e(e,r){t.call(this),this.point=new Vector_1.Vector(0,0,0),this.material=new Material_1.Material(Color_1.Color.gray),this.normal=e,r&&(this.point=r)}return __extends(e,t),e.prototype.getIntersectData=function(t){var e,r,o=Vector_1.Vector.dot(Vector_1.Vector.substract(this.point,t.getOrigin()),this.normal)/Vector_1.Vector.dot(t.getDirection(),this.getNormal());if(!(o<=RTMath_1.RTMath.EPSILON))return r=Vector_1.Vector.add(t.getOrigin(),Vector_1.Vector.scale(t.getDirection(),o)),e=Vector_1.Vector.substract(r,t.getOrigin()).getLength(),{hitPoint:r,normal:this.getNormal(),distance:e}},e.prototype.getMaterial=function(){return this.material},e.prototype.getPosition=function(){return this.point},e.prototype.getRandomPoint=function(){return new Vector_1.Vector(0,0,0)},e.prototype.getNormal=function(){return this.normal},e.prototype.setMaterial=function(t){return this.material=t,this},e}(AbstractObject_1.AbstractObject);exports.Plane=Plane;


},{"../Color/Color":2,"../Material":6,"../RTMath":10,"../Vector":14,"./AbstractObject":7}],9:[function(require,module,exports){
var __extends=this&&this.__extends||function(t,r){function e(){this.constructor=t}for(var o in r)r.hasOwnProperty(o)&&(t[o]=r[o]);t.prototype=null===r?Object.create(r):(e.prototype=r.prototype,new e)},RTMath_1=require("../RTMath"),AbstractObject_1=require("./AbstractObject"),Color_1=require("../Color/Color"),Material_1=require("../Material"),Vector_1=require("../Vector"),Sphere=function(t){function r(r,e){t.call(this),this.material=new Material_1.Material(Color_1.Color.red),this.position=r,this.radius=e}return __extends(r,t),r.prototype.getIntersectData=function(t){var r,e,o,i,a,n,s,c=Vector_1.Vector.substract(t.getOrigin(),this.position),h=Vector_1.Vector.dot(c,t.getDirection()),u=Vector_1.Vector.dot(c,c)-Math.pow(this.radius,2),p=Math.pow(h,2)-u;if(!(h>0||0>p||p>=0&&(r=-h+Math.sqrt(p),e=-h-Math.sqrt(p),o=Math.min(r,e),i=Math.max(r,e),a=o>RTMath_1.RTMath.EPSILON?o:i,a<RTMath_1.RTMath.EPSILON)))return n=Vector_1.Vector.add(Vector_1.Vector.scale(t.getDirection(),a),t.getOrigin()),s=Vector_1.Vector.substract(n,t.getOrigin()).getLength(),{hitPoint:n,normal:this.getNormal(n),distance:s}},r.prototype.getMaterial=function(){return this.material},r.prototype.getPosition=function(){return this.position},r.prototype.getRandomPoint=function(){var t=Math.random(),r=Math.random(),e=2*Math.PI*t,o=Math.pow(Math.cos(2*r-1),-1);return new Vector_1.Vector(this.radius*Math.cos(e)*Math.sin(o),this.radius*Math.sin(e)*Math.sin(o),this.radius*Math.cos(o))},r.prototype.getRadius=function(){return this.radius},r.prototype.getNormal=function(t){return Vector_1.Vector.normalize(Vector_1.Vector.scale(Vector_1.Vector.substract(t,this.position),1/this.radius))},r.prototype.setMaterial=function(t){return this.material=t,this},r}(AbstractObject_1.AbstractObject);exports.Sphere=Sphere;


},{"../Color/Color":2,"../Material":6,"../RTMath":10,"../Vector":14,"./AbstractObject":7}],10:[function(require,module,exports){
var RTMath;!function(t){t.EPSILON=.001}(RTMath=exports.RTMath||(exports.RTMath={}));


},{}],11:[function(require,module,exports){
var Vector_1=require("./Vector"),Ray=function(){function t(t,i,r){this.iteration=5,this.origin=t,this.direction=Vector_1.Vector.normalize(i),r&&(this.iteration=r)}return t.prototype.getOrigin=function(){return this.origin},t.prototype.getDirection=function(){return this.direction},t.prototype.getIteration=function(){return this.iteration},t.prototype.getHitPoint=function(t){return Vector_1.Vector.add(this.origin,Vector_1.Vector.scale(this.direction,t))},t.prototype.setIteration=function(t){this.iteration=t},t}();exports.Ray=Ray;


},{"./Vector":14}],12:[function(require,module,exports){
var Scene=function(){function t(t){this.objects=[],this.lights=[],this.objects=t.objects,this.camera=t.camera,this.lights=t.lights}return t.prototype.addObject=function(t){this.objects.push(t)},t.prototype.getCamera=function(){return this.camera},t.prototype.getLights=function(){return this.lights},t.prototype.getObjects=function(){return this.objects},t}();exports.Scene=Scene;


},{}],13:[function(require,module,exports){
var Camera_1=require("./Camera"),Color_1=require("./Color/Color"),IntersectPoint_1=require("./IntersectPoint"),Material_1=require("./Material"),Plane_1=require("./Objects/Plane"),Ray_1=require("./Ray"),RGBColor_1=require("./Color/RGBColor"),Scene_1=require("./Scene"),Sphere_1=require("./Objects/Sphere"),Vector_1=require("./Vector"),FloatColor_1=require("./Color/FloatColor"),Tracer=function(){function e(){this.buffer=[],this.screenWidth=250,this.screenHeight=250;for(var e=0;e<this.screenWidth*this.screenHeight*3;e++)this.buffer.push(Color_1.Color.black)}return e.prototype.cosineSampleHemisphere=function(e){var t,r,o=Math.random(),a=Math.random(),n=Math.sqrt(o),c=2*Math.PI*a;return t=Math.abs(e.getCoordinates().x)<.5?Vector_1.Vector.cross(e,new Vector_1.Vector(1,0,0)):Vector_1.Vector.cross(e,new Vector_1.Vector(0,1,0)),r=Vector_1.Vector.cross(e,t),Vector_1.Vector.add(Vector_1.Vector.scale(e,Math.sqrt(1-o)),Vector_1.Vector.add(Vector_1.Vector.scale(t,n*Math.cos(c)),Vector_1.Vector.scale(r,n*Math.sin(c))))},e.prototype.getColor=function(e){var t=this.trace(e),r=Color_1.Color.black,o=Color_1.Color.black,a=e.getIteration();return e.setIteration(--a),0===a?Color_1.Color.black:t.getIntersect()?(r=this.getDiffuseColor(e,t),o=this.getReflectionColor(e,t),r.add(o)):Color_1.Color.black},e.prototype.getDiffuseColor=function(e,t,r){void 0===r&&(r=!0);for(var o,a=Color_1.Color.black,n=(Color_1.Color.black,0),c=this.scene.getObjects();n<c.length;n++){var i=c[n];0!==i.getMaterial().getEmissionValue()}o=0===t.getOwner().getMaterial().getEmissionValue()?0:.9;var l=a.add(t.getOwner().getMaterial().getColor().add(t.getOwner().getMaterial().getEmission()));return Math.random()<o?l:this.getColor(new Ray_1.Ray(t.getHitPoint(),this.cosineSampleHemisphere(t.getOwner().getNormal(t.getHitPoint())),e.getIteration())).multiple(l)},e.prototype.getReflectionColor=function(e,t){var r,o,a=t.getOwner().getMaterial().getReflectionValue();return 0===a?Color_1.Color.black:(o=Vector_1.Vector.reflect(e.getDirection(),t.getNormal()),r=this.getColor(new Ray_1.Ray(t.getHitPoint(),o,e.getIteration())).scaled(a))},e.prototype.getPerspectiveVector=function(e,t){var r=this.scene.getCamera();return Vector_1.Vector.normalize(Vector_1.Vector.add(r.getForwardVector(),Vector_1.Vector.add(Vector_1.Vector.scale(r.getRightVector(),r.recenterX(e)),Vector_1.Vector.scale(r.getUpVector(),r.recenterY(t)))))},e.prototype.getLightPower=function(e,t,r){var o=r.getRandomPoint(),a=Math.sqrt(1-Math.pow(r.getRadius(),2)/Vector_1.Vector.dot(Vector_1.Vector.substract(t.getHitPoint(),r.getPosition()),Vector_1.Vector.substract(t.getHitPoint(),r.getPosition()))),n=this.trace(new Ray_1.Ray(t.getHitPoint(),Vector_1.Vector.substract(Vector_1.Vector.substract(r.getPosition(),o),t.getHitPoint())));if(n.getIntersect()&&n.getOwner().getMaterial().getEmissionValue()>0){var c=2*Math.PI*(1-a),i=Vector_1.Vector.dot(t.getNormal(),e.getDirection())<0?t.getNormal():Vector_1.Vector.scale(t.getNormal(),-1);return t.getOwner().getMaterial().getColor().add(r.getMaterial().getEmission().scaled(Vector_1.Vector.dot(o,i)).scaled(c)).scaled(1/Math.PI)}return Color_1.Color.black},e.prototype.trace=function(e){for(var t,r=new IntersectPoint_1.IntersectPoint,o=1/0,a=this.scene.getObjects(),n=0,c=a;n<c.length;n++){var i=c[n];t=i.getIntersectData(e),t&&t.distance<o&&(o=t.distance,r.setIntersect(),r.setHitPoint(t.hitPoint),r.setNormal(t.normal),r.setDistanceFromOrigin(t.distance),r.setOwner(i))}return r},e.prototype.render=function(e,t){var r,o,a,n=.5;for(this.screenWidth=e,this.screenHeight=t;;){r=[];for(var c=0;1>c;c++)for(var i=0,l=0;l<this.screenHeight;l++)for(var s=0;s<this.screenWidth;s++){o=0,Math.random()>.5?o+=Math.random()*n:o-=Math.random()*n,a=new Ray_1.Ray(this.scene.getCamera().getPosition(),this.getPerspectiveVector(s+o,l+o)),this.buffer[i]=Color_1.Color.black.add(this.getColor(a));for(var _ in this.buffer[i].getColor())this.buffer[i][_]=Color_1.Color.sRGBEncode(this.buffer[i][_]);r.push(this.buffer[i].getColor().red),r.push(this.buffer[i].getColor().green),r.push(this.buffer[i].getColor().blue),i++}for(var i=0;i<this.buffer.length;i++)this.buffer[i].getColor().red=0,this.buffer[i].getColor().green=0,this.buffer[i].getColor().blue=0;self.postMessage(r)}},e.prototype.setScene=function(e){this.scene=e},e}();onmessage=function(e){var t=e.data;"string"==typeof t&&(t=JSON.parse("["+t+"]"));var r=new Tracer;r.setScene(new Scene_1.Scene({camera:new Camera_1.Camera(new Vector_1.Vector(0,0,-699),new Vector_1.Vector(0,0,1),t[0],t[1]),objects:[new Sphere_1.Sphere(new Vector_1.Vector(0,630,0),60).setMaterial(new Material_1.Material(Color_1.Color.gray,new Color_1.Color(new FloatColor_1.FloatColor(400,400,400)))),new Plane_1.Plane(new Vector_1.Vector(0,1,0),new Vector_1.Vector(0,-700,0)).setMaterial(new Material_1.Material(new Color_1.Color(new RGBColor_1.RGBColor(191.25,191.25,191.25))).setLambertCoeff(1)),new Plane_1.Plane(new Vector_1.Vector(0,-1,0),new Vector_1.Vector(0,700,0)).setMaterial(new Material_1.Material(new Color_1.Color(new RGBColor_1.RGBColor(191.25,191.25,191.25))).setLambertCoeff(1)),new Plane_1.Plane(new Vector_1.Vector(-1,0,0),new Vector_1.Vector(700,0,0)).setMaterial(new Material_1.Material(new Color_1.Color(new RGBColor_1.RGBColor(76.5,255,25.5))).setLambertCoeff(1)),new Plane_1.Plane(new Vector_1.Vector(1,0,0),new Vector_1.Vector(-700,0,0)).setMaterial(new Material_1.Material(new Color_1.Color(new RGBColor_1.RGBColor(255,76.5,25.5))).setLambertCoeff(1)),new Plane_1.Plane(new Vector_1.Vector(0,0,-1),new Vector_1.Vector(0,0,700)).setMaterial(new Material_1.Material(new Color_1.Color(new RGBColor_1.RGBColor(191.25,191.25,191.25))).setLambertCoeff(1)),new Plane_1.Plane(new Vector_1.Vector(0,0,1),new Vector_1.Vector(0,0,-700)).setMaterial(new Material_1.Material(Color_1.Color.black).setLambertCoeff(1)),new Sphere_1.Sphere(new Vector_1.Vector(0,-300,400),400).setMaterial(new Material_1.Material(Color_1.Color.gray))]})),r.render(t[0],t[1])};


},{"./Camera":1,"./Color/Color":2,"./Color/FloatColor":3,"./Color/RGBColor":4,"./IntersectPoint":5,"./Material":6,"./Objects/Plane":8,"./Objects/Sphere":9,"./Ray":11,"./Scene":12,"./Vector":14}],14:[function(require,module,exports){
var Vector=function(){function t(t,n,r){this.x=t,this.y=n,this.z=r}return t.prototype.getCoordinates=function(){return{x:this.x,y:this.y,z:this.z}},t.prototype.asArray=function(){return[this.x,this.y,this.z]},t.prototype.getLength=function(){return Math.sqrt(Math.pow(this.x,2)+Math.pow(this.y,2)+Math.pow(this.z,2))},t.scale=function(n,r){return new t(n.x*r,n.y*r,n.z*r)},t.add=function(n,r){return new t(n.x+r.x,n.y+r.y,n.z+r.z)},t.substract=function(n,r){return new t(n.x-r.x,n.y-r.y,n.z-r.z)},t.dot=function(t,n){return t.x*n.x+t.y*n.y+t.z*n.z},t.cross=function(n,r){return new t(n.y*r.z-n.z*r.y,n.z*r.x-n.x*r.z,n.x*r.y-n.y*r.x)},t.normalize=function(n){return t.scale(n,1/n.getLength())},t.pow=function(n,r){return new t(Math.pow(n.y,r),Math.pow(n.z,r),Math.pow(n.x,r))},t.inverse=function(n){return t.scale(n,-1)},t.reflect=function(n,r){var e=2*t.dot(n,r);return t.substract(n,t.scale(r,e))},t}();exports.Vector=Vector;


},{}]},{},[13])(13)
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCIvc291cmNlL0NhbWVyYS50cyIsIi9zb3VyY2UvQ29sb3IvQ29sb3IudHMiLCIvc291cmNlL0NvbG9yL0Zsb2F0Q29sb3IudHMiLCIvc291cmNlL0NvbG9yL1JHQkNvbG9yLnRzIiwiL3NvdXJjZS9JbnRlcnNlY3RQb2ludC50cyIsIi9zb3VyY2UvTWF0ZXJpYWwudHMiLCIvc291cmNlL09iamVjdHMvQWJzdHJhY3RPYmplY3QudHMiLCIvc291cmNlL09iamVjdHMvUGxhbmUuanMiLCIvc291cmNlL09iamVjdHMvUGxhbmUudHMiLCIvc291cmNlL09iamVjdHMvU3BoZXJlLmpzIiwiL3NvdXJjZS9PYmplY3RzL1NwaGVyZS50cyIsIi9zb3VyY2UvUlRNYXRoLnRzIiwiL3NvdXJjZS9SYXkudHMiLCIvc291cmNlL1NjZW5lLnRzIiwiL3NvdXJjZS9UcmFjZXJXb3JrZXIudHMiLCIvc291cmNlL1ZlY3Rvci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQ0FBLEdBQUEsVUFBQSxRQUF1QixZQUV2QixPQUFBLFdBU0ksUUFBQSxHQUFhLEVBQWtCLEVBQW1CLEVBQXFCLEdBQ25FLEtBQUssU0FBVyxFQUNoQixLQUFLLFVBQVksU0FBQSxPQUFPLFVBQVUsR0FDbEMsS0FBSyxZQUFjLEVBQ25CLEtBQUssYUFBZSxFQUVwQixLQUFLLGNBQWdCLFNBQUEsT0FBTyxVQUFVLFNBQUEsT0FBTyxVQUFVLEtBQUssVUFBVyxLQUFLLFdBQzVFLEtBQUssWUFBYyxTQUFBLE9BQU8sTUFDdEIsU0FBQSxPQUFPLFVBQ0gsU0FBQSxPQUFPLE1BQ0gsS0FBSyxjQUNMLEdBQUksVUFBQSxPQUFPLEVBQUcsR0FBSSxLQUcxQixHQUVKLEtBQUssU0FBVyxTQUFBLE9BQU8sTUFDbkIsU0FBQSxPQUFPLFVBQ0gsU0FBQSxPQUFPLE1BQ0gsS0FBSyxjQUNMLEtB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QUEsU0FBUyxPQUFZLE9BQVksVUFBYyxnQkFBZ0IsSUFDOUosR0FBSSxTQUFBLE1BQU0sR0FBSSxVQUFBLE9BQU8sRUFBRyxHQUFJLEdBQUksR0FBSSxVQUFBLE9BQVEsRUFBRyxJQUFLLElBQUksWUFBWSxHQUFJLFlBQUEsU0FBUyxHQUFJLFNBQUEsTUFBTSxHQUFJLFlBQUEsU0FBUyxPQUFZLE9BQVksVUFBYyxnQkFBZ0IsSUFDOUosR0FBSSxTQUFBLE1BQU0sR0FBSSxVQUFBLE9BQU8sR0FBSSxFQUFHLEdBQUksR0FBSSxVQUFBLE9BQVEsSUFBSyxFQUFHLElBQUksWUFBWSxHQUFJLFlBQUEsU0FBUyxHQUFJLFNBQUEsTUFBTSxHQUFJLFlBQUEsU0FBUyxLQUFXLElBQUssUUFBYSxnQkFBZ0IsSUFDckosR0FBSSxTQUFBLE1BQU0sR0FBSSxVQUFBLE9BQU8sRUFBRyxFQUFHLEdBQUksR0FBSSxVQUFBLE9BQVEsS0FBTSxFQUFHLElBQUksWUFBWSxHQUFJLFlBQUEsU0FBUyxHQUFJLFNBQUEsTUFBTSxHQUFJLFlBQUEsU0FBUyxJQUFLLEtBQVcsUUFBYSxnQkFBZ0IsSUFDckosR0FBSSxTQUFBLE1BQU0sR0FBSSxVQUFBLE9BQU8sRUFBRyxFQUFHLElBQUssR0FBSSxVQUFBLE9BQVEsRUFBRyxFQUFHLE1BQU0sWUFBWSxHQUFJLFlBQUEsU0FBUyxHQUFJLFNBQUEsTUFBTSxHQUFJLFlBQUEsU0FBUyxPQUFZLE9BQVksVUFBYyxnQkFBZ0IsSUFDOUosR0FBSSxTQUFBLE1BQU0sR0FBSSxVQUFBLE9BQU8sRUFBRyxFQUFHLEdBQUksR0FBSSxVQUFBLE9BQVEsRUFBRyxFQUFHLE9BQU8sWUFBWSxHQUFJLFlBQUEsU0FBUyxRQUFBLE1BQU0sT0FBTyxnQkFBZ0IsSUFJOUcsR0FBSSxVQUFBLE9BQU8sR0FBSSxVQUFBLE9BQU8sRUFBRyxLQUFNLEtBQU0sS0FDaEMsWUFBWSxHQUFJLFlBQUEsU0FBUyxRQUFBLE1BQU0sV0FLaEQsRUFBTyxPQUFPLEVBQUssR0FBSSxFQUFLOzs7O0FDNVloQyxHQUFBLFFBQUEsV0FLSSxRQUFBLEdBQWEsRUFBVyxFQUFXLEdBQy9CLEtBQUssRUFBSSxFQUNULEtBQUssRUFBSSxFQUNULEtBQUssRUFBSSxFQXVFakIsTUFwRUksR0FBQSxVQUFBLGVBQUEsV0FDSSxPQUNJLEVBQUcsS0FBSyxFQUNSLEVBQUcsS0FBSyxFQUNSLEVBQUcsS0FBSyxJQUlULEVBQUEsVUFBQSxRQUFQLFdBQ0ksT0FDSSxLQUFLLEVBQ0wsS0FBSyxFQUNMLEtBQUssSUFJTixFQUFBLFVBQUEsVUFBUCxXQUNJLE1BQU8sTUFBSyxLQUFLLEtBQUEsSUFBQSxLQUFLLEVBQUssR0FBSSxLQUFBLElBQUEsS0FBSyxFQUFLLEdBQUksS0FBQSxJQUFBLEtBQUssRUFBSyxLQUc3QyxFQUFBLE1BQWQsU0FBcUIsRUFBZ0IsR0FDakMsTUFBTyxJQUFJLEdBQU8sRUFBTyxFQUFJLEVBQVksRUFBTyxFQUFJLEVBQVksRUFBTyxFQUFJLElBR2pFLEVBQUEsSUFBZCxTQUFtQixFQUFpQixHQUNoQyxNQUFPLElBQUksR0FBTyxFQUFRLEVBQUksRUFBUSxFQUFHLEVBQVEsRUFBSSxFQUFRLEVBQUcsRUFBUSxFQUFJLEVBQVEsSUFHMUUsRUFBQSxVQUFkLFNBQXlCLEVBQWlCLEdBQ3RDLE1BQU8sSUFBSSxHQUFPLEVBQVEsRUFBSSxFQUFRLEVBQUcsRUFBUSxFQUFJLEVBQVEsRUFBRyxFQUFRLEVBQUksRUFBUSxJQUcxRSxFQUFBLElBQWQsU0FBbUIsRUFBaUIsR0FDaEMsTUFBTyxHQUFRLEVBQUksRUFBUSxFQUFJLEVBQVEsRUFBSSxFQUFRLEVBQUksRUFBUSxFQUFJLEVBQVEsR0FHakUsRUFBQSxNQUFkLFNBQXFCLEVBQWlCLEdBQ2xDLE1BQU8sSUFBSSxHQUNQLEVBQVEsRUFBSSxFQUFRLEVBQUksRUFBUSxFQUFJLEVBQVEsRUFDNUMsRUFBUSxFQUFJLEVBQVEsRUFBSSxFQUFRLEVBQUksRUFBUSxFQUM1QyxFQUFRLEVBQUksRUFBUSxFQUFJLEVBQVEsRUFBSSxFQUFRLElBSXRDLEVBQUEsVUFBZCxTQUF5QixHQUNyQixNQUFPLEdBQU8sTUFBTSxFQUFRLEVBQUksRUFBTyxjQUc3QixFQUFBLElBQWQsU0FBbUIsRUFBZ0IsR0FDL0IsTUFBTyxJQUFJLEdBQ1AsS0FBQSxJQUFBLEVBQU8sRUFBSyxHQUNaLEtBQUEsSUFBQSxFQUFPLEVBQUssR0FDWixLQUFBLElBQUEsRUFBTyxFQUFLLEtBSU4sRUFBQSxRQUFkLFNBQXVCLEdBQ25CLE1BQU8sR0FBTyxNQUFNLEVBQVEsS0FHbEIsRUFBQSxRQUFkLFNBQXVCLEVBQWdCLEdBQ25DLEdBQUksR0FBSSxFQUFJLEVBQU8sSUFBSSxFQUFRLEVBRS9CLE9BQU8sR0FBTyxVQUNWLEVBQ0EsRUFBTyxNQUFNLEVBQVEsS0FHakMsSUEvRWEsU0FBQSxPQUFNIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gZSh0LG4scil7ZnVuY3Rpb24gcyhvLHUpe2lmKCFuW29dKXtpZighdFtvXSl7dmFyIGE9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtpZighdSYmYSlyZXR1cm4gYShvLCEwKTtpZihpKXJldHVybiBpKG8sITApO3ZhciBmPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIrbytcIidcIik7dGhyb3cgZi5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGZ9dmFyIGw9bltvXT17ZXhwb3J0czp7fX07dFtvXVswXS5jYWxsKGwuZXhwb3J0cyxmdW5jdGlvbihlKXt2YXIgbj10W29dWzFdW2VdO3JldHVybiBzKG4/bjplKX0sbCxsLmV4cG9ydHMsZSx0LG4scil9cmV0dXJuIG5bb10uZXhwb3J0c312YXIgaT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2Zvcih2YXIgbz0wO288ci5sZW5ndGg7bysrKXMocltvXSk7cmV0dXJuIHN9KSIsImltcG9ydCB7IFZlY3RvciB9IGZyb20gXCIuL1ZlY3RvclwiO1xuXG5leHBvcnQgY2xhc3MgQ2FtZXJhIHtcbiAgICBwcml2YXRlIGRpcmVjdGlvbjogVmVjdG9yO1xuICAgIHByaXZhdGUgcG9zaXRpb246IFZlY3RvcjtcbiAgICBwcml2YXRlIGZvcndhcmRWZWN0b3I6IFZlY3RvcjtcbiAgICBwcml2YXRlIHJpZ2h0VmVjdG9yOiBWZWN0b3I7XG4gICAgcHJpdmF0ZSB1cFZlY3RvcjogVmVjdG9yO1xuICAgIHByaXZhdGUgc2NyZWVuV2lkdGg6IG51bWJlcjtcbiAgICBwcml2YXRlIHNjcmVlbkhlaWdodDogbnVtYmVyO1xuXG4gICAgY29uc3RydWN0b3IgKHBvc2l0aW9uOiBWZWN0b3IsIGRpcmVjdGlvbjogVmVjdG9yLCBzY3JlZW5XaWR0aDogbnVtYmVyLCBzY3JlZW5IZWlnaHQ6IG51bWJlcikge1xuICAgICAgICB0aGlzLnBvc2l0aW9uID0gcG9zaXRpb247XG4gICAgICAgIHRoaXMuZGlyZWN0aW9uID0gVmVjdG9yLm5vcm1hbGl6ZShkaXJlY3Rpb24pO1xuICAgICAgICB0aGlzLnNjcmVlbldpZHRoID0gc2NyZWVuV2lkdGg7XG4gICAgICAgIHRoaXMuc2NyZWVuSGVpZ2h0ID0gc2NyZWVuSGVpZ2h0O1xuXG4gICAgICAgIHRoaXMuZm9yd2FyZFZlY3RvciA9IFZlY3Rvci5ub3JtYWxpemUoVmVjdG9yLnN1YnN0cmFjdCh0aGlzLmRpcmVjdGlvbiwgdGhpcy5wb3NpdGlvbikpO1xuICAgICAgICB0aGlzLnJpZ2h0VmVjdG9yID0gVmVjdG9yLnNjYWxlKFxuICAgICAgICAgICAgVmVjdG9yLm5vcm1hbGl6ZShcbiAgICAgICAgICAgICAgICBWZWN0b3IuY3Jvc3MoXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZm9yd2FyZFZlY3RvcixcbiAgICAgICAgICAgICAgICAgICAgbmV3IFZlY3RvcigwLCAtMSwgMClcbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICApLFxuICAgICAgICAgICAgM1xuICAgICAgICApO1xuICAgICAgICB0aGlzLnVwVmVjdG9yID0gVmVjdG9yLnNjYWxlKFxuICAgICAgICAgICAgVmVjdG9yLm5vcm1hbGl6ZShcbiAgICAgICAgICAgICAgICBWZWN0b3IuY3Jvc3MoXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZm9yd2FyZFZlY3RvcixcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yaWdodFZlY3RvclxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICksXG4gICAgICAgICAgICAzXG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgcHVibGljIGdldERpcmVjdGlvbiAoKTogVmVjdG9yIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZGlyZWN0aW9uO1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXRQb3NpdGlvbiAoKTogVmVjdG9yIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucG9zaXRpb247XG4gICAgfVxuXG4gICAgcHVibGljIGdldEZvcndhcmRWZWN0b3IgKCk6IFZlY3RvciB7XG4gICAgICAgIHJldHVybiB0aGlzLmZvcndhcmRWZWN0b3I7XG4gICAgfVxuXG4gICAgcHVibGljIGdldFJpZ2h0VmVjdG9yICgpOiBWZWN0b3Ige1xuICAgICAgICByZXR1cm4gdGhpcy5yaWdodFZlY3RvcjtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0VXBWZWN0b3IgKCk6IFZlY3RvciB7XG4gICAgICAgIHJldHVybiB0aGlzLnVwVmVjdG9yO1xuICAgIH1cblxuICAgIHB1YmxpYyByZWNlbnRlclggKHg6IG51bWJlcik6IG51bWJlciB7XG4gICAgICAgIGxldCBhc3BlY3RDb2VmZiA9ICh0aGlzLnNjcmVlbkhlaWdodCAvIHRoaXMuc2NyZWVuV2lkdGgpICogMjtcblxuICAgICAgICByZXR1cm4gKHggLSAodGhpcy5zY3JlZW5XaWR0aCAvIDIpKSAvIGFzcGVjdENvZWZmIC8gdGhpcy5zY3JlZW5XaWR0aDtcbiAgICB9XG5cbiAgICBwdWJsaWMgcmVjZW50ZXJZICh5OiBudW1iZXIpOiBudW1iZXIge1xuICAgICAgICByZXR1cm4gLSh5IC0gKHRoaXMuc2NyZWVuSGVpZ2h0IC8gMikpIC8gMiAvIHRoaXMuc2NyZWVuSGVpZ2h0O1xuICAgIH1cbn1cbiIsImltcG9ydCB7IFJHQkNvbG9yIH0gZnJvbSBcIi4vUkdCQ29sb3JcIjtcbmltcG9ydCB7IEZsb2F0Q29sb3IgfSBmcm9tIFwiLi9GbG9hdENvbG9yXCI7XG5cbmV4cG9ydCBjbGFzcyBDb2xvciB7XG4gICAgcHJpdmF0ZSByZWQ6IG51bWJlcjtcbiAgICBwcml2YXRlIGdyZWVuOiBudW1iZXI7XG4gICAgcHJpdmF0ZSBibHVlOiBudW1iZXI7XG5cbiAgICBwdWJsaWMgc3RhdGljIGJsYWNrID0gbmV3IENvbG9yKG5ldyBSR0JDb2xvcigwLCAwLCAwKSk7XG4gICAgcHVibGljIHN0YXRpYyB3aGl0ZSA9IG5ldyBDb2xvcihuZXcgUkdCQ29sb3IoMjU1LCAyNTUsIDI1NSkpO1xuICAgIHB1YmxpYyBzdGF0aWMgZ3JheSA9IG5ldyBDb2xvcihuZXcgUkdCQ29sb3IoMTI3LCAxMjcsIDEyNykpO1xuICAgIHB1YmxpYyBzdGF0aWMgcmVkID0gbmV3IENvbG9yKG5ldyBSR0JDb2xvcigyNTUsIDAsIDApKTtcbiAgICBwdWJsaWMgc3RhdGljIGdyZWVuID0gbmV3IENvbG9yKG5ldyBSR0JDb2xvcigwLCAyNTUsIDApKTtcbiAgICBwdWJsaWMgc3RhdGljIGJsdWUgPSBuZXcgQ29sb3IobmV3IFJHQkNvbG9yKDAsIDAsIDI1NSkpO1xuXG4gICAgY29uc3RydWN0b3IgKGNvbG9yOiBSR0JDb2xvcnxGbG9hdENvbG9yKSB7XG4gICAgICAgIHRoaXMucmVkID0gY29sb3IucmVkO1xuICAgICAgICB0aGlzLmdyZWVuID0gY29sb3IuZ3JlZW47XG4gICAgICAgIHRoaXMuYmx1ZSA9IGNvbG9yLmJsdWU7XG4gICAgfVxuXG4gICAgcHVibGljIGdldENvbG9yICgpOiB7cmVkOiBudW1iZXIsIGdyZWVuOiBudW1iZXIsIGJsdWU6IG51bWJlcn0ge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgcmVkOiB0aGlzLnJlZCxcbiAgICAgICAgICAgIGdyZWVuOiB0aGlzLmdyZWVuLFxuICAgICAgICAgICAgYmx1ZTogdGhpcy5ibHVlXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwdWJsaWMgYWRkIChjb2xvcjogQ29sb3IpOiBDb2xvciB7XG4gICAgICAgIHJldHVybiBuZXcgQ29sb3IoXG4gICAgICAgICAgICBuZXcgRmxvYXRDb2xvcihcbiAgICAgICAgICAgICAgICB0aGlzLnJlZCArIGNvbG9yLnJlZCxcbiAgICAgICAgICAgICAgICB0aGlzLmdyZWVuICsgY29sb3IuZ3JlZW4sXG4gICAgICAgICAgICAgICAgdGhpcy5ibHVlICsgY29sb3IuYmx1ZVxuICAgICAgICAgICAgKVxuICAgICAgICApO1xuICAgIH1cblxuICAgIHB1YmxpYyBzdWJzdHJhY3QgKGNvbG9yOiBDb2xvcik6IENvbG9yIHtcbiAgICAgICAgcmV0dXJuIG5ldyBDb2xvcihcbiAgICAgICAgICAgIG5ldyBGbG9hdENvbG9yKFxuICAgICAgICAgICAgICAgIHRoaXMucmVkIC0gY29sb3IucmVkLFxuICAgICAgICAgICAgICAgIHRoaXMuZ3JlZW4gLSBjb2xvci5ncmVlbixcbiAgICAgICAgICAgICAgICB0aGlzLmJsdWUgLSBjb2xvci5ibHVlXG4gICAgICAgICAgICApXG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgcHVibGljIHNjYWxlZCAobXVsdGlwbGllcjogbnVtYmVyKTogQ29sb3Ige1xuICAgICAgICByZXR1cm4gbmV3IENvbG9yKFxuICAgICAgICAgICAgbmV3IEZsb2F0Q29sb3IoXG4gICAgICAgICAgICAgICAgdGhpcy5yZWQgKiBtdWx0aXBsaWVyLFxuICAgICAgICAgICAgICAgIHRoaXMuZ3JlZW4gKiBtdWx0aXBsaWVyLFxuICAgICAgICAgICAgICAgIHRoaXMuYmx1ZSAqIG11bHRpcGxpZXJcbiAgICAgICAgICAgIClcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgbXVsdGlwbGUgKGNvbG9yOiBDb2xvcik6IENvbG9yIHtcbiAgICAgICAgcmV0dXJuIG5ldyBDb2xvcihcbiAgICAgICAgICAgIG5ldyBGbG9hdENvbG9yKFxuICAgICAgICAgICAgICAgIHRoaXMucmVkICogY29sb3IucmVkLFxuICAgICAgICAgICAgICAgIHRoaXMuZ3JlZW4gKiBjb2xvci5ncmVlbixcbiAgICAgICAgICAgICAgICB0aGlzLmJsdWUgKiBjb2xvci5ibHVlXG4gICAgICAgICAgICApXG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgcHVibGljIGRpdmlkZSAodmFsdWU6IG51bWJlcik6IENvbG9yIHtcbiAgICAgICAgcmV0dXJuIG5ldyBDb2xvcihcbiAgICAgICAgICAgIG5ldyBGbG9hdENvbG9yKFxuICAgICAgICAgICAgICAgIHRoaXMucmVkIC8gdmFsdWUsXG4gICAgICAgICAgICAgICAgdGhpcy5ncmVlbiAvIHZhbHVlLFxuICAgICAgICAgICAgICAgIHRoaXMuYmx1ZSAvIHZhbHVlXG4gICAgICAgICAgICApXG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgcHVibGljIHN0YXRpYyBzUkdCRW5jb2RlIChjb2xvcjogbnVtYmVyKSB7XG4gICAgICAgIGlmIChjb2xvciA8PSAwLjAwMzEzMDgpIHtcbiAgICAgICAgICAgIHJldHVybiAxMi45MiAqIGNvbG9yO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIDEuMDU1ICogKGNvbG9yICoqIDAuNDE2NjY2NykgLSAwLjA1NTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHB1YmxpYyBzdGF0aWMgdG9SR0IgKGNvbG9yOiBDb2xvcik6IHtyZWQ6IG51bWJlciwgZ3JlZW46IG51bWJlciwgYmx1ZTogbnVtYmVyfSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICByZWQ6IE1hdGguZmxvb3IoQ29sb3IuY2xhbXBDb2xvcihjb2xvci5yZWQpICogMjU1KSxcbiAgICAgICAgICAgIGdyZWVuOiBNYXRoLmZsb29yKENvbG9yLmNsYW1wQ29sb3IoY29sb3IuZ3JlZW4pICogMjU1KSxcbiAgICAgICAgICAgIGJsdWU6IE1hdGguZmxvb3IoQ29sb3IuY2xhbXBDb2xvcihjb2xvci5ibHVlKSAqIDI1NSlcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgc3RhdGljIGNsYW1wQ29sb3IgKGNvbG9yOiBudW1iZXIpOiBudW1iZXIge1xuICAgICAgICByZXR1cm4gY29sb3IgPiAxID8gMSA6IGNvbG9yO1xuICAgIH1cbn1cbiIsImV4cG9ydCBjbGFzcyBGbG9hdENvbG9yIHtcbiAgICBwdWJsaWMgcmVkOiBudW1iZXI7XG4gICAgcHVibGljIGdyZWVuOiBudW1iZXI7XG4gICAgcHVibGljIGJsdWU6IG51bWJlcjtcblxuICAgIGNvbnN0cnVjdG9yIChyZWQ6IG51bWJlciwgZ3JlZW46IG51bWJlciwgYmx1ZTogbnVtYmVyKSB7XG4gICAgICAgIHRoaXMucmVkID0gcmVkO1xuICAgICAgICB0aGlzLmdyZWVuID0gZ3JlZW47XG4gICAgICAgIHRoaXMuYmx1ZSA9IGJsdWU7XG4gICAgfVxufSIsImV4cG9ydCBjbGFzcyBSR0JDb2xvciB7XG4gICAgcHVibGljIHJlZDogbnVtYmVyO1xuICAgIHB1YmxpYyBncmVlbjogbnVtYmVyO1xuICAgIHB1YmxpYyBibHVlOiBudW1iZXI7XG5cbiAgICBjb25zdHJ1Y3RvciAocmVkOiBudW1iZXIsIGdyZWVuOiBudW1iZXIsIGJsdWU6IG51bWJlcikge1xuICAgICAgICB0aGlzLnJlZCA9IFJHQkNvbG9yLnRvRmxvYXQocmVkKTtcbiAgICAgICAgdGhpcy5ncmVlbiA9IFJHQkNvbG9yLnRvRmxvYXQoZ3JlZW4pO1xuICAgICAgICB0aGlzLmJsdWUgPSBSR0JDb2xvci50b0Zsb2F0KGJsdWUpO1xuICAgIH1cblxuICAgIHByaXZhdGUgc3RhdGljIHRvRmxvYXQgKGNvbG9yOiBudW1iZXIpOiBudW1iZXIge1xuICAgICAgICByZXR1cm4gY29sb3IgPT09IDAgPyBjb2xvciA6IGNvbG9yIC8gMjU1O1xuICAgIH1cbn0iLCJpbXBvcnQgeyBBYnN0cmFjdE9iamVjdCB9IGZyb20gXCIuL09iamVjdHMvQWJzdHJhY3RPYmplY3RcIjtcbmltcG9ydCB7IFJheSB9IGZyb20gXCIuL1JheVwiO1xuaW1wb3J0IHsgVmVjdG9yIH0gZnJvbSBcIi4vVmVjdG9yXCI7XG5cbmV4cG9ydCBjbGFzcyBJbnRlcnNlY3RQb2ludCB7XG4gICAgcHJpdmF0ZSBpbnRlcnNlY3RlZDogYm9vbGVhbiA9IGZhbHNlO1xuICAgIHByaXZhdGUgaGl0UG9pbnQ6IFZlY3RvcjtcbiAgICBwcml2YXRlIG5vcm1hbDogVmVjdG9yO1xuICAgIHByaXZhdGUgZGlzdGFuY2VGcm9tT3JpZ2luOiBudW1iZXI7XG4gICAgcHJpdmF0ZSBvd25lcjogQWJzdHJhY3RPYmplY3Q7XG5cbiAgICBwdWJsaWMgZ2V0SW50ZXJzZWN0ICgpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaW50ZXJzZWN0ZWQ7XG4gICAgfVxuXG4gICAgcHVibGljIGdldEhpdFBvaW50ICgpOiBWZWN0b3Ige1xuICAgICAgICByZXR1cm4gdGhpcy5oaXRQb2ludDtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0Tm9ybWFsICgpOiBWZWN0b3Ige1xuICAgICAgICByZXR1cm4gdGhpcy5ub3JtYWw7XG4gICAgfVxuXG4gICAgcHVibGljIGdldE93bmVyICgpOiBBYnN0cmFjdE9iamVjdCB7XG4gICAgICAgIHJldHVybiB0aGlzLm93bmVyO1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXREaXN0YW5jZUZyb21PcmlnaW4gKCk6IG51bWJlciB7XG4gICAgICAgIHJldHVybiB0aGlzLmRpc3RhbmNlRnJvbU9yaWdpbjtcbiAgICB9XG5cbiAgICBwdWJsaWMgc2V0SW50ZXJzZWN0ICgpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5pbnRlcnNlY3RlZCA9IHRydWU7XG4gICAgfVxuXG4gICAgcHVibGljIHNldEhpdFBvaW50IChoaXRQb2ludDogVmVjdG9yKTogdm9pZCB7XG4gICAgICAgIHRoaXMuaGl0UG9pbnQgPSBoaXRQb2ludFxuICAgIH1cblxuICAgIHB1YmxpYyBzZXROb3JtYWwgKG5vcm1hbDogVmVjdG9yKTogdm9pZCB7XG4gICAgICAgIHRoaXMubm9ybWFsID0gbm9ybWFsO1xuICAgIH1cblxuICAgIHB1YmxpYyBzZXRPd25lciAob3duZXI6IEFic3RyYWN0T2JqZWN0KTogdm9pZCB7XG4gICAgICAgIHRoaXMub3duZXIgPSBvd25lcjtcbiAgICB9XG5cbiAgICBwdWJsaWMgc2V0RGlzdGFuY2VGcm9tT3JpZ2luIChkaXN0YW5jZUZyb21PcmlnaW46IG51bWJlcik6IHZvaWQge1xuICAgICAgICB0aGlzLmRpc3RhbmNlRnJvbU9yaWdpbiA9IGRpc3RhbmNlRnJvbU9yaWdpbjtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBDb2xvciB9IGZyb20gXCIuL0NvbG9yL0NvbG9yXCI7XG5pbXBvcnQgeyBSR0JDb2xvciB9IGZyb20gXCIuL0NvbG9yL1JHQkNvbG9yXCI7XG5pbXBvcnQgeyBWZWN0b3IgfSBmcm9tIFwiLi9WZWN0b3JcIjtcblxuZXhwb3J0IGNsYXNzIE1hdGVyaWFsIHtcbiAgICBwcml2YXRlIGNvbG9yOiBDb2xvcjtcbiAgICBwcml2YXRlIGVtaXNzaW9uOiBDb2xvciA9IENvbG9yLmJsYWNrO1xuICAgIHByaXZhdGUgbGFtYmVydENvZWZmOiBudW1iZXIgPSAwLjU7XG4gICAgcHJpdmF0ZSBwaG9uZ0NvZWZmOiBudW1iZXIgPSAwLjU7XG4gICAgcHJpdmF0ZSByZWZsZWN0aW9uQ29lZmY6IG51bWJlciA9IDA7XG5cbiAgICBjb25zdHJ1Y3RvciAoXG4gICAgICAgIGNvbG9yPzogQ29sb3IsXG4gICAgICAgIGVtaXNzaW9uPzogQ29sb3IsXG4gICAgICAgIHJlZmxlY3Rpb25Db2VmZj86IG51bWJlclxuICAgICkge1xuICAgICAgICBpZiAoY29sb3IpIHtcbiAgICAgICAgICAgIHRoaXMuY29sb3IgPSBjb2xvcjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChlbWlzc2lvbikge1xuICAgICAgICAgICAgdGhpcy5lbWlzc2lvbiA9IGVtaXNzaW9uO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHJlZmxlY3Rpb25Db2VmZikge1xuICAgICAgICAgICAgdGhpcy5yZWZsZWN0aW9uQ29lZmYgPSByZWZsZWN0aW9uQ29lZmY7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0Q29sb3IgKCk6IENvbG9yIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29sb3I7XG4gICAgfVxuXG4gICAgcHVibGljIGdldEVtaXNzaW9uICgpOiBDb2xvciB7XG4gICAgICAgIHJldHVybiB0aGlzLmVtaXNzaW9uO1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXRFbWlzc2lvblZhbHVlICgpOiBudW1iZXIge1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgdGhpcy5lbWlzc2lvbi5nZXRDb2xvcigpLnJlZCArIHRoaXMuZW1pc3Npb24uZ2V0Q29sb3IoKS5ncmVlbiArIHRoaXMuZW1pc3Npb24uZ2V0Q29sb3IoKS5ibHVlXG4gICAgICAgICkgLyAzO1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXRMYW1iZXJ0Q29lZmYoKTogbnVtYmVyIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubGFtYmVydENvZWZmO1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXRQaG9uZ0NvZWZmKCk6IG51bWJlciB7XG4gICAgICAgIHJldHVybiB0aGlzLnBob25nQ29lZmY7XG4gICAgfVxuXG4gICAgcHVibGljIGdldFJlZmxlY3Rpb25WYWx1ZSAoKTogbnVtYmVyIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmVmbGVjdGlvbkNvZWZmO1xuICAgIH1cblxuICAgIHB1YmxpYyBzZXRMYW1iZXJ0Q29lZmYobGFtYmVydENvZWZmOiBudW1iZXIpOiB0aGlzIHtcbiAgICAgICAgdGhpcy5sYW1iZXJ0Q29lZmYgPSBsYW1iZXJ0Q29lZmY7XG4gICAgICAgIHRoaXMucGhvbmdDb2VmZiA9IDEgLSBsYW1iZXJ0Q29lZmY7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgcHVibGljIHNldFBob25nQ29lZmYocGhvbmdDb2VmZjogbnVtYmVyKTogdGhpcyB7XG4gICAgICAgIHRoaXMucGhvbmdDb2VmZiA9IHBob25nQ29lZmY7XG4gICAgICAgIHRoaXMubGFtYmVydENvZWZmID0gMSAtIHBob25nQ29lZmY7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxufSIsImltcG9ydCB7IE1hdGVyaWFsIH0gZnJvbSBcIi4uL01hdGVyaWFsXCI7XG5pbXBvcnQgeyBSYXkgfSBmcm9tIFwiLi4vUmF5XCI7XG5pbXBvcnQgeyBWZWN0b3IgfSBmcm9tIFwiLi4vVmVjdG9yXCI7XG5cbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBBYnN0cmFjdE9iamVjdCB7XG4gICAgYWJzdHJhY3QgZ2V0SW50ZXJzZWN0RGF0YSAocmF5OiBSYXkpOiBhbnk7XG4gICAgYWJzdHJhY3QgZ2V0TWF0ZXJpYWwgKCk6IE1hdGVyaWFsO1xuICAgIGFic3RyYWN0IGdldFBvc2l0aW9uICgpOiBWZWN0b3I7XG4gICAgYWJzdHJhY3QgZ2V0UmFuZG9tUG9pbnQgKCk6IFZlY3RvcjtcbiAgICBhYnN0cmFjdCBzZXRNYXRlcmlhbCAobWF0ZXJpYWw6IE1hdGVyaWFsKTogdGhpcztcbn1cbiIsInZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgZnVuY3Rpb24gKGQsIGIpIHtcbiAgICBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTtcbiAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG59O1xudmFyIEFic3RyYWN0T2JqZWN0XzEgPSByZXF1aXJlKFwiLi9BYnN0cmFjdE9iamVjdFwiKTtcbnZhciBDb2xvcl8xID0gcmVxdWlyZShcIi4uL0NvbG9yL0NvbG9yXCIpO1xudmFyIE1hdGVyaWFsXzEgPSByZXF1aXJlKFwiLi4vTWF0ZXJpYWxcIik7XG52YXIgUlRNYXRoXzEgPSByZXF1aXJlKFwiLi4vUlRNYXRoXCIpO1xudmFyIFZlY3Rvcl8xID0gcmVxdWlyZShcIi4uL1ZlY3RvclwiKTtcbnZhciBQbGFuZSA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKFBsYW5lLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIFBsYW5lKG5vcm1hbCwgcG9pbnQpIHtcbiAgICAgICAgX3N1cGVyLmNhbGwodGhpcyk7XG4gICAgICAgIHRoaXMucG9pbnQgPSBuZXcgVmVjdG9yXzEuVmVjdG9yKDAsIDAsIDApO1xuICAgICAgICB0aGlzLm1hdGVyaWFsID0gbmV3IE1hdGVyaWFsXzEuTWF0ZXJpYWwoQ29sb3JfMS5Db2xvci5ncmF5KTtcbiAgICAgICAgdGhpcy5ub3JtYWwgPSBub3JtYWw7XG4gICAgICAgIGlmIChwb2ludCkge1xuICAgICAgICAgICAgdGhpcy5wb2ludCA9IHBvaW50O1xuICAgICAgICB9XG4gICAgfVxuICAgIFBsYW5lLnByb3RvdHlwZS5nZXRJbnRlcnNlY3REYXRhID0gZnVuY3Rpb24gKHJheSkge1xuICAgICAgICB2YXIgZGlzdGFuY2UsIGhpdFBvaW50LCB0ID0gVmVjdG9yXzEuVmVjdG9yLmRvdChWZWN0b3JfMS5WZWN0b3Iuc3Vic3RyYWN0KHRoaXMucG9pbnQsIHJheS5nZXRPcmlnaW4oKSksIHRoaXMubm9ybWFsKSAvXG4gICAgICAgICAgICBWZWN0b3JfMS5WZWN0b3IuZG90KHJheS5nZXREaXJlY3Rpb24oKSwgdGhpcy5nZXROb3JtYWwoKSk7XG4gICAgICAgIGlmICh0IDw9IFJUTWF0aF8xLlJUTWF0aC5FUFNJTE9OKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaGl0UG9pbnQgPSBWZWN0b3JfMS5WZWN0b3IuYWRkKHJheS5nZXRPcmlnaW4oKSwgVmVjdG9yXzEuVmVjdG9yLnNjYWxlKHJheS5nZXREaXJlY3Rpb24oKSwgdCkpO1xuICAgICAgICBkaXN0YW5jZSA9IFZlY3Rvcl8xLlZlY3Rvci5zdWJzdHJhY3QoaGl0UG9pbnQsIHJheS5nZXRPcmlnaW4oKSkuZ2V0TGVuZ3RoKCk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBoaXRQb2ludDogaGl0UG9pbnQsXG4gICAgICAgICAgICBub3JtYWw6IHRoaXMuZ2V0Tm9ybWFsKCksXG4gICAgICAgICAgICBkaXN0YW5jZTogZGlzdGFuY2VcbiAgICAgICAgfTtcbiAgICB9O1xuICAgIFBsYW5lLnByb3RvdHlwZS5nZXRNYXRlcmlhbCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubWF0ZXJpYWw7XG4gICAgfTtcbiAgICBQbGFuZS5wcm90b3R5cGUuZ2V0UG9zaXRpb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnBvaW50O1xuICAgIH07XG4gICAgUGxhbmUucHJvdG90eXBlLmdldFJhbmRvbVBvaW50ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gbmV3IFZlY3Rvcl8xLlZlY3RvcigwLCAwLCAwKTtcbiAgICB9O1xuICAgIFBsYW5lLnByb3RvdHlwZS5nZXROb3JtYWwgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm5vcm1hbDtcbiAgICB9O1xuICAgIFBsYW5lLnByb3RvdHlwZS5zZXRNYXRlcmlhbCA9IGZ1bmN0aW9uIChtYXRlcmlhbCkge1xuICAgICAgICB0aGlzLm1hdGVyaWFsID0gbWF0ZXJpYWw7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgcmV0dXJuIFBsYW5lO1xufSkoQWJzdHJhY3RPYmplY3RfMS5BYnN0cmFjdE9iamVjdCk7XG5leHBvcnRzLlBsYW5lID0gUGxhbmU7XG4iLCJpbXBvcnQgeyBBYnN0cmFjdE9iamVjdCB9IGZyb20gXCIuL0Fic3RyYWN0T2JqZWN0XCI7XG5pbXBvcnQgeyBDb2xvciB9IGZyb20gXCIuLi9Db2xvci9Db2xvclwiO1xuaW1wb3J0IHsgTWF0ZXJpYWwgfSBmcm9tIFwiLi4vTWF0ZXJpYWxcIjtcbmltcG9ydCB7IFJheSB9IGZyb20gXCIuLi9SYXlcIjtcbmltcG9ydCB7IFJUTWF0aCB9IGZyb20gXCIuLi9SVE1hdGhcIjtcbmltcG9ydCB7IFJHQkNvbG9yIH0gZnJvbSBcIi4uL0NvbG9yL1JHQkNvbG9yXCI7XG5pbXBvcnQgeyBWZWN0b3IgfSBmcm9tIFwiLi4vVmVjdG9yXCI7XG5cbmV4cG9ydCBjbGFzcyBQbGFuZSBleHRlbmRzIEFic3RyYWN0T2JqZWN0IHtcbiAgICBwcml2YXRlIG5vcm1hbDogVmVjdG9yO1xuICAgIHByaXZhdGUgcG9pbnQ6IFZlY3RvciA9IG5ldyBWZWN0b3IoMCwgMCwgMCk7XG4gICAgcHJpdmF0ZSBtYXRlcmlhbDogTWF0ZXJpYWwgPSBuZXcgTWF0ZXJpYWwoQ29sb3IuZ3JheSk7XG5cbiAgICBjb25zdHJ1Y3RvciAobm9ybWFsOiBWZWN0b3IsIHBvaW50PzogVmVjdG9yKSB7XG4gICAgICAgIHN1cGVyICgpO1xuXG4gICAgICAgIHRoaXMubm9ybWFsID0gbm9ybWFsO1xuXG4gICAgICAgIGlmIChwb2ludCkge1xuICAgICAgICAgICAgdGhpcy5wb2ludCA9IHBvaW50O1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHVibGljIGdldEludGVyc2VjdERhdGEgKHJheTogUmF5KTogYW55IHtcbiAgICAgICAgbGV0IGRpc3RhbmNlOiBudW1iZXIsXG4gICAgICAgICAgICBoaXRQb2ludDogVmVjdG9yLFxuICAgICAgICAgICAgdDogbnVtYmVyID1cbiAgICAgICAgICAgIFZlY3Rvci5kb3QoXG4gICAgICAgICAgICAgICAgVmVjdG9yLnN1YnN0cmFjdChcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wb2ludCxcbiAgICAgICAgICAgICAgICAgICAgcmF5LmdldE9yaWdpbigpXG4gICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICB0aGlzLm5vcm1hbFxuICAgICAgICAgICAgKSAvXG4gICAgICAgICAgICBWZWN0b3IuZG90KFxuICAgICAgICAgICAgICAgIHJheS5nZXREaXJlY3Rpb24oKSxcbiAgICAgICAgICAgICAgICB0aGlzLmdldE5vcm1hbCgpXG4gICAgICAgICAgICApO1xuXG4gICAgICAgIGlmICh0IDw9IFJUTWF0aC5FUFNJTE9OKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBoaXRQb2ludCA9IFZlY3Rvci5hZGQoXG4gICAgICAgICAgICByYXkuZ2V0T3JpZ2luKCksXG4gICAgICAgICAgICBWZWN0b3Iuc2NhbGUoXG4gICAgICAgICAgICAgICAgcmF5LmdldERpcmVjdGlvbigpLFxuICAgICAgICAgICAgICAgIHRcbiAgICAgICAgICAgIClcbiAgICAgICAgKTtcblxuICAgICAgICBkaXN0YW5jZSA9IFZlY3Rvci5zdWJzdHJhY3QoXG4gICAgICAgICAgICBoaXRQb2ludCxcbiAgICAgICAgICAgIHJheS5nZXRPcmlnaW4oKVxuICAgICAgICApLmdldExlbmd0aCgpO1xuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBoaXRQb2ludDogaGl0UG9pbnQsXG4gICAgICAgICAgICBub3JtYWw6IHRoaXMuZ2V0Tm9ybWFsKCksXG4gICAgICAgICAgICBkaXN0YW5jZTogZGlzdGFuY2VcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0TWF0ZXJpYWwgKCk6IE1hdGVyaWFsIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubWF0ZXJpYWw7XG4gICAgfVxuXG4gICAgcHVibGljIGdldFBvc2l0aW9uICgpOiBWZWN0b3Ige1xuICAgICAgICByZXR1cm4gdGhpcy5wb2ludDtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0UmFuZG9tUG9pbnQgKCk6IFZlY3RvciB7XG4gICAgICAgIHJldHVybiBuZXcgVmVjdG9yKDAsIDAsIDApO1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXROb3JtYWwgKCk6IFZlY3RvciB7XG4gICAgICAgIHJldHVybiB0aGlzLm5vcm1hbDtcbiAgICB9XG5cbiAgICBwdWJsaWMgc2V0TWF0ZXJpYWwgKG1hdGVyaWFsOiBNYXRlcmlhbCk6IHRoaXMge1xuICAgICAgICB0aGlzLm1hdGVyaWFsID0gbWF0ZXJpYWw7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxufVxuIiwidmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCBmdW5jdGlvbiAoZCwgYikge1xuICAgIGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdO1xuICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbn07XG52YXIgUlRNYXRoXzEgPSByZXF1aXJlKFwiLi4vUlRNYXRoXCIpO1xudmFyIEFic3RyYWN0T2JqZWN0XzEgPSByZXF1aXJlKFwiLi9BYnN0cmFjdE9iamVjdFwiKTtcbnZhciBDb2xvcl8xID0gcmVxdWlyZShcIi4uL0NvbG9yL0NvbG9yXCIpO1xudmFyIE1hdGVyaWFsXzEgPSByZXF1aXJlKFwiLi4vTWF0ZXJpYWxcIik7XG52YXIgVmVjdG9yXzEgPSByZXF1aXJlKFwiLi4vVmVjdG9yXCIpO1xudmFyIFNwaGVyZSA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKFNwaGVyZSwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBTcGhlcmUoY2VudGVyLCByYWRpdXMpIHtcbiAgICAgICAgX3N1cGVyLmNhbGwodGhpcyk7XG4gICAgICAgIHRoaXMubWF0ZXJpYWwgPSBuZXcgTWF0ZXJpYWxfMS5NYXRlcmlhbChDb2xvcl8xLkNvbG9yLnJlZCk7XG4gICAgICAgIHRoaXMucG9zaXRpb24gPSBjZW50ZXI7XG4gICAgICAgIHRoaXMucmFkaXVzID0gcmFkaXVzO1xuICAgIH1cbiAgICBTcGhlcmUucHJvdG90eXBlLmdldEludGVyc2VjdERhdGEgPSBmdW5jdGlvbiAocmF5KSB7XG4gICAgICAgIHZhciBrID0gVmVjdG9yXzEuVmVjdG9yLnN1YnN0cmFjdChyYXkuZ2V0T3JpZ2luKCksIHRoaXMucG9zaXRpb24pLCBiID0gVmVjdG9yXzEuVmVjdG9yLmRvdChrLCByYXkuZ2V0RGlyZWN0aW9uKCkpLCBjID0gVmVjdG9yXzEuVmVjdG9yLmRvdChrLCBrKSAtIE1hdGgucG93KHRoaXMucmFkaXVzLCAyKSwgZCA9IE1hdGgucG93KGIsIDIpIC0gYywgdDEsIHQyLCBtaW5ULCBtYXhULCBpbnRlcnNlY3Rpb25Qb2ludCwgaGl0UG9pbnQsIGRpc3RhbmNlO1xuICAgICAgICBpZiAoYiA+IDAgfHwgZCA8IDApIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZCA+PSAwKSB7XG4gICAgICAgICAgICB0MSA9IC1iICsgTWF0aC5zcXJ0KGQpO1xuICAgICAgICAgICAgdDIgPSAtYiAtIE1hdGguc3FydChkKTtcbiAgICAgICAgICAgIG1pblQgPSBNYXRoLm1pbih0MSwgdDIpO1xuICAgICAgICAgICAgbWF4VCA9IE1hdGgubWF4KHQxLCB0Mik7XG4gICAgICAgICAgICBpZiAobWluVCA+IFJUTWF0aF8xLlJUTWF0aC5FUFNJTE9OKSB7XG4gICAgICAgICAgICAgICAgaW50ZXJzZWN0aW9uUG9pbnQgPSBtaW5UO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgaW50ZXJzZWN0aW9uUG9pbnQgPSBtYXhUO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGludGVyc2VjdGlvblBvaW50IDwgUlRNYXRoXzEuUlRNYXRoLkVQU0lMT04pIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaGl0UG9pbnQgPSBWZWN0b3JfMS5WZWN0b3IuYWRkKFZlY3Rvcl8xLlZlY3Rvci5zY2FsZShyYXkuZ2V0RGlyZWN0aW9uKCksIGludGVyc2VjdGlvblBvaW50KSwgcmF5LmdldE9yaWdpbigpKTtcbiAgICAgICAgZGlzdGFuY2UgPSBWZWN0b3JfMS5WZWN0b3Iuc3Vic3RyYWN0KGhpdFBvaW50LCByYXkuZ2V0T3JpZ2luKCkpLmdldExlbmd0aCgpO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgaGl0UG9pbnQ6IGhpdFBvaW50LFxuICAgICAgICAgICAgbm9ybWFsOiB0aGlzLmdldE5vcm1hbChoaXRQb2ludCksXG4gICAgICAgICAgICBkaXN0YW5jZTogZGlzdGFuY2VcbiAgICAgICAgfTtcbiAgICB9O1xuICAgIFNwaGVyZS5wcm90b3R5cGUuZ2V0TWF0ZXJpYWwgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm1hdGVyaWFsO1xuICAgIH07XG4gICAgU3BoZXJlLnByb3RvdHlwZS5nZXRQb3NpdGlvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucG9zaXRpb247XG4gICAgfTtcbiAgICBTcGhlcmUucHJvdG90eXBlLmdldFJhbmRvbVBvaW50ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgdSA9IE1hdGgucmFuZG9tKCksIHYgPSBNYXRoLnJhbmRvbSgpLCBxID0gMiAqIE1hdGguUEkgKiB1LCBmID0gTWF0aC5wb3coTWF0aC5jb3MoMiAqIHYgLSAxKSwgLTEpO1xuICAgICAgICByZXR1cm4gbmV3IFZlY3Rvcl8xLlZlY3Rvcih0aGlzLnJhZGl1cyAqIE1hdGguY29zKHEpICogTWF0aC5zaW4oZiksIHRoaXMucmFkaXVzICogTWF0aC5zaW4ocSkgKiBNYXRoLnNpbihmKSwgdGhpcy5yYWRpdXMgKiBNYXRoLmNvcyhmKSk7XG4gICAgfTtcbiAgICBTcGhlcmUucHJvdG90eXBlLmdldFJhZGl1cyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmFkaXVzO1xuICAgIH07XG4gICAgU3BoZXJlLnByb3RvdHlwZS5nZXROb3JtYWwgPSBmdW5jdGlvbiAocG9pbnQpIHtcbiAgICAgICAgcmV0dXJuIFZlY3Rvcl8xLlZlY3Rvci5ub3JtYWxpemUoVmVjdG9yXzEuVmVjdG9yLnNjYWxlKFZlY3Rvcl8xLlZlY3Rvci5zdWJzdHJhY3QocG9pbnQsIHRoaXMucG9zaXRpb24pLCAxIC8gdGhpcy5yYWRpdXMpKTtcbiAgICB9O1xuICAgIFNwaGVyZS5wcm90b3R5cGUuc2V0TWF0ZXJpYWwgPSBmdW5jdGlvbiAobWF0ZXJpYWwpIHtcbiAgICAgICAgdGhpcy5tYXRlcmlhbCA9IG1hdGVyaWFsO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIHJldHVybiBTcGhlcmU7XG59KShBYnN0cmFjdE9iamVjdF8xLkFic3RyYWN0T2JqZWN0KTtcbmV4cG9ydHMuU3BoZXJlID0gU3BoZXJlO1xuIiwiaW1wb3J0IHsgUlRNYXRoIH0gZnJvbSBcIi4uL1JUTWF0aFwiO1xuaW1wb3J0IHsgQWJzdHJhY3RPYmplY3QgfSBmcm9tIFwiLi9BYnN0cmFjdE9iamVjdFwiO1xuaW1wb3J0IHsgQ29sb3IgfSBmcm9tIFwiLi4vQ29sb3IvQ29sb3JcIjtcbmltcG9ydCB7IE1hdGVyaWFsIH0gZnJvbSBcIi4uL01hdGVyaWFsXCI7XG5pbXBvcnQgeyBSYXkgfSBmcm9tIFwiLi4vUmF5XCI7XG5pbXBvcnQgeyBSR0JDb2xvciB9IGZyb20gXCIuLi9Db2xvci9SR0JDb2xvclwiO1xuaW1wb3J0IHsgVmVjdG9yIH0gZnJvbSBcIi4uL1ZlY3RvclwiO1xuXG5leHBvcnQgY2xhc3MgU3BoZXJlIGV4dGVuZHMgQWJzdHJhY3RPYmplY3Qge1xuICAgIHByaXZhdGUgcG9zaXRpb246IFZlY3RvcjtcbiAgICBwcml2YXRlIHJhZGl1czogbnVtYmVyO1xuICAgIHByaXZhdGUgbWF0ZXJpYWw6IE1hdGVyaWFsID0gbmV3IE1hdGVyaWFsKENvbG9yLnJlZCk7XG5cbiAgICBjb25zdHJ1Y3RvciAoY2VudGVyOiBWZWN0b3IsIHJhZGl1czogbnVtYmVyKSB7XG4gICAgICAgIHN1cGVyICgpO1xuXG4gICAgICAgIHRoaXMucG9zaXRpb24gPSBjZW50ZXI7XG4gICAgICAgIHRoaXMucmFkaXVzID0gcmFkaXVzO1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXRJbnRlcnNlY3REYXRhIChyYXk6IFJheSk6IGFueSB7XG4gICAgICAgIGxldCBrID0gVmVjdG9yLnN1YnN0cmFjdChyYXkuZ2V0T3JpZ2luKCksIHRoaXMucG9zaXRpb24pLFxuICAgICAgICAgICAgYjogbnVtYmVyID0gVmVjdG9yLmRvdChrLCByYXkuZ2V0RGlyZWN0aW9uKCkpLFxuICAgICAgICAgICAgYzogbnVtYmVyID0gVmVjdG9yLmRvdChrLCBrKSAtIHRoaXMucmFkaXVzICoqIDIsXG4gICAgICAgICAgICBkOiBudW1iZXIgPSBiICoqIDIgLSBjLFxuICAgICAgICAgICAgdDE6IG51bWJlcixcbiAgICAgICAgICAgIHQyOiBudW1iZXIsXG4gICAgICAgICAgICBtaW5UOiBudW1iZXIsXG4gICAgICAgICAgICBtYXhUOiBudW1iZXIsXG4gICAgICAgICAgICBpbnRlcnNlY3Rpb25Qb2ludDogbnVtYmVyLFxuICAgICAgICAgICAgaGl0UG9pbnQ6IFZlY3RvcixcbiAgICAgICAgICAgIGRpc3RhbmNlOiBudW1iZXI7XG5cbiAgICAgICAgaWYgKGIgPiAwIHx8IGQgPCAwKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZCA+PSAwKSB7XG4gICAgICAgICAgICB0MSA9IC1iICsgTWF0aC5zcXJ0KGQpO1xuICAgICAgICAgICAgdDIgPSAtYiAtIE1hdGguc3FydChkKTtcbiAgICAgICAgICAgIG1pblQgPSBNYXRoLm1pbih0MSwgdDIpO1xuICAgICAgICAgICAgbWF4VCA9IE1hdGgubWF4KHQxLCB0Mik7XG5cbiAgICAgICAgICAgIGlmIChtaW5UID4gUlRNYXRoLkVQU0lMT04pIHtcbiAgICAgICAgICAgICAgICBpbnRlcnNlY3Rpb25Qb2ludCA9IG1pblQ7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGludGVyc2VjdGlvblBvaW50ID0gbWF4VDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGludGVyc2VjdGlvblBvaW50IDwgUlRNYXRoLkVQU0lMT04pIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBoaXRQb2ludCA9IFZlY3Rvci5hZGQoXG4gICAgICAgICAgICBWZWN0b3Iuc2NhbGUocmF5LmdldERpcmVjdGlvbigpLCBpbnRlcnNlY3Rpb25Qb2ludCksXG4gICAgICAgICAgICByYXkuZ2V0T3JpZ2luKClcbiAgICAgICAgKTtcbiAgICAgICAgZGlzdGFuY2UgPSBWZWN0b3Iuc3Vic3RyYWN0KFxuICAgICAgICAgICAgaGl0UG9pbnQsXG4gICAgICAgICAgICByYXkuZ2V0T3JpZ2luKClcbiAgICAgICAgKS5nZXRMZW5ndGgoKTtcblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgaGl0UG9pbnQ6IGhpdFBvaW50LFxuICAgICAgICAgICAgbm9ybWFsOiB0aGlzLmdldE5vcm1hbChoaXRQb2ludCksXG4gICAgICAgICAgICBkaXN0YW5jZTogZGlzdGFuY2VcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0TWF0ZXJpYWwgKCk6IE1hdGVyaWFsIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubWF0ZXJpYWw7XG4gICAgfVxuXG4gICAgcHVibGljIGdldFBvc2l0aW9uICgpOiBWZWN0b3Ige1xuICAgICAgICByZXR1cm4gdGhpcy5wb3NpdGlvbjtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0UmFuZG9tUG9pbnQgKCk6IFZlY3RvciB7XG4gICAgICAgIGxldCB1ID0gTWF0aC5yYW5kb20oKSxcbiAgICAgICAgICAgIHYgPSBNYXRoLnJhbmRvbSgpLFxuICAgICAgICAgICAgcSA9IDIgKiBNYXRoLlBJICogdSxcbiAgICAgICAgICAgIGYgPSBNYXRoLnBvdyhNYXRoLmNvcygyICogdiAtIDEpLCAtMSk7XG5cbiAgICAgICAgcmV0dXJuIG5ldyBWZWN0b3IoXG4gICAgICAgICAgICB0aGlzLnJhZGl1cyAqIE1hdGguY29zKHEpICogTWF0aC5zaW4oZiksXG4gICAgICAgICAgICB0aGlzLnJhZGl1cyAqIE1hdGguc2luKHEpICogTWF0aC5zaW4oZiksXG4gICAgICAgICAgICB0aGlzLnJhZGl1cyAqIE1hdGguY29zKGYpXG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgcHVibGljIGdldFJhZGl1cyAoKTogbnVtYmVyIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmFkaXVzO1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXROb3JtYWwgKHBvaW50OiBWZWN0b3IpOiBWZWN0b3Ige1xuICAgICAgICByZXR1cm4gVmVjdG9yLm5vcm1hbGl6ZShcbiAgICAgICAgICAgIFZlY3Rvci5zY2FsZShcbiAgICAgICAgICAgICAgICBWZWN0b3Iuc3Vic3RyYWN0KHBvaW50LCB0aGlzLnBvc2l0aW9uKSxcbiAgICAgICAgICAgICAgICAxIC8gdGhpcy5yYWRpdXNcbiAgICAgICAgICAgIClcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgc2V0TWF0ZXJpYWwgKG1hdGVyaWFsOiBNYXRlcmlhbCk6IHRoaXMge1xuICAgICAgICB0aGlzLm1hdGVyaWFsID0gbWF0ZXJpYWw7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxufVxuIiwiZXhwb3J0IG1vZHVsZSBSVE1hdGgge1xuICAgIGV4cG9ydCBjb25zdCBFUFNJTE9OID0gMC4wMDE7XG59IiwiaW1wb3J0IHsgVmVjdG9yIH0gZnJvbSBcIi4vVmVjdG9yXCI7XG5cbmV4cG9ydCBjbGFzcyBSYXkge1xuICAgIHByaXZhdGUgb3JpZ2luOiBWZWN0b3I7XG4gICAgcHJpdmF0ZSBkaXJlY3Rpb246ICBWZWN0b3I7XG4gICAgcHJpdmF0ZSBpdGVyYXRpb246IG51bWJlciA9IDU7XG5cbiAgICBjb25zdHJ1Y3RvciAob3JpZ2luOiBWZWN0b3IsIGRpcmVjdGlvbjogVmVjdG9yLCBpdGVyYXRpb24/OiBudW1iZXIpIHtcbiAgICAgICAgdGhpcy5vcmlnaW4gPSBvcmlnaW47XG4gICAgICAgIHRoaXMuZGlyZWN0aW9uID0gVmVjdG9yLm5vcm1hbGl6ZShkaXJlY3Rpb24pO1xuXG4gICAgICAgIGlmIChpdGVyYXRpb24pIHtcbiAgICAgICAgICAgIHRoaXMuaXRlcmF0aW9uID0gaXRlcmF0aW9uO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHVibGljIGdldE9yaWdpbiAoKTogVmVjdG9yIHtcbiAgICAgICAgcmV0dXJuIHRoaXMub3JpZ2luO1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXREaXJlY3Rpb24gKCk6IFZlY3RvciB7XG4gICAgICAgIHJldHVybiB0aGlzLmRpcmVjdGlvbjtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0SXRlcmF0aW9uICgpOiBudW1iZXIge1xuICAgICAgICByZXR1cm4gdGhpcy5pdGVyYXRpb247XG4gICAgfVxuXG4gICAgcHVibGljIGdldEhpdFBvaW50IChkaXN0YW5jZTogbnVtYmVyKTogVmVjdG9yIHtcbiAgICAgICAgcmV0dXJuIFZlY3Rvci5hZGQodGhpcy5vcmlnaW4sIFZlY3Rvci5zY2FsZSh0aGlzLmRpcmVjdGlvbiwgZGlzdGFuY2UpKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgc2V0SXRlcmF0aW9uIChpdGVyYXRpb246IG51bWJlcik6IHZvaWQge1xuICAgICAgICB0aGlzLml0ZXJhdGlvbiA9IGl0ZXJhdGlvbjtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBDYW1lcmEgfSBmcm9tIFwiLi9DYW1lcmFcIjtcbmltcG9ydCB7IEFic3RyYWN0TGlnaHQgfSBmcm9tIFwiLi9MaWdodHMvQWJzdHJhY3RMaWdodFwiO1xuXG5leHBvcnQgY2xhc3MgU2NlbmUge1xuICAgIHByaXZhdGUgY2FtZXJhOiBDYW1lcmE7XG4gICAgcHJpdmF0ZSBvYmplY3RzOiBhbnlbXSA9IFtdO1xuICAgIHByaXZhdGUgbGlnaHRzOiBBYnN0cmFjdExpZ2h0W10gPSBbXTtcblxuICAgIGNvbnN0cnVjdG9yIChvYmplY3RzOiBhbnkpIHtcbiAgICAgICAgdGhpcy5vYmplY3RzID0gb2JqZWN0cy5vYmplY3RzO1xuICAgICAgICB0aGlzLmNhbWVyYSA9IG9iamVjdHMuY2FtZXJhO1xuICAgICAgICB0aGlzLmxpZ2h0cyA9IG9iamVjdHMubGlnaHRzO1xuICAgIH1cblxuICAgIHB1YmxpYyBhZGRPYmplY3QgKG9iamVjdDogYW55KTogdm9pZCB7XG4gICAgICAgIHRoaXMub2JqZWN0cy5wdXNoKG9iamVjdCk7XG4gICAgfVxuXG4gICAgcHVibGljIGdldENhbWVyYSAoKTogQ2FtZXJhIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2FtZXJhO1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXRMaWdodHMgKCk6IEFic3RyYWN0TGlnaHRbXSB7XG4gICAgICAgIHJldHVybiB0aGlzLmxpZ2h0cztcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0T2JqZWN0cyAoKTogYW55W10ge1xuICAgICAgICByZXR1cm4gdGhpcy5vYmplY3RzO1xuICAgIH1cbn1cbiIsIi8vLyA8cmVmZXJlbmNlIG5vLWRlZmF1bHQtbGliPVwidHJ1ZVwiLz5cbi8vLyA8cmVmZXJlbmNlIHBhdGg9XCJsaWIvbGliLndlYndvcmtlci5kLnRzXCIgLz5cblxuaW1wb3J0IHsgQWJzdHJhY3RMaWdodCB9IGZyb20gXCIuL0xpZ2h0cy9BYnN0cmFjdExpZ2h0XCI7XG5pbXBvcnQgeyBBYnN0cmFjdE9iamVjdCB9IGZyb20gXCIuL09iamVjdHMvQWJzdHJhY3RPYmplY3RcIjtcbmltcG9ydCB7IENhbWVyYSB9IGZyb20gXCIuL0NhbWVyYVwiO1xuaW1wb3J0IHsgQ29sb3IgfSBmcm9tIFwiLi9Db2xvci9Db2xvclwiO1xuaW1wb3J0IHsgSW50ZXJzZWN0UG9pbnQgfSBmcm9tIFwiLi9JbnRlcnNlY3RQb2ludFwiO1xuaW1wb3J0IHsgTWF0ZXJpYWwgfSBmcm9tIFwiLi9NYXRlcmlhbFwiO1xuaW1wb3J0IHsgUGxhbmUgfSBmcm9tIFwiLi9PYmplY3RzL1BsYW5lXCI7XG5pbXBvcnQgeyBQb2x5Z29uIH0gZnJvbSBcIi4vT2JqZWN0cy9Qb2x5Z29uXCI7XG5pbXBvcnQgeyBSYXkgfSBmcm9tIFwiLi9SYXlcIjtcbmltcG9ydCB7IFJHQkNvbG9yIH0gZnJvbSBcIi4vQ29sb3IvUkdCQ29sb3JcIjtcbmltcG9ydCB7IFJUTWF0aCB9IGZyb20gXCIuL1JUTWF0aFwiO1xuaW1wb3J0IHsgU2NlbmUgfSBmcm9tIFwiLi9TY2VuZVwiO1xuaW1wb3J0IHsgU3BoZXJlIH0gZnJvbSBcIi4vT2JqZWN0cy9TcGhlcmVcIjtcbmltcG9ydCB7IFNwaGVyaWNhbExpZ2h0IH0gZnJvbSBcIi4vTGlnaHRzL1NwaGVyaWNhbExpZ2h0XCI7XG5pbXBvcnQgeyBWZWN0b3IgfSBmcm9tIFwiLi9WZWN0b3JcIjtcbmltcG9ydCB7RmxvYXRDb2xvcn0gZnJvbSBcIi4vQ29sb3IvRmxvYXRDb2xvclwiO1xuXG5jbGFzcyBUcmFjZXIge1xuICAgIHByaXZhdGUgYnVmZmVyOiBDb2xvcltdID0gW107XG4gICAgcHJpdmF0ZSBzY2VuZTogU2NlbmU7XG4gICAgcHJpdmF0ZSBzY3JlZW5XaWR0aDogbnVtYmVyID0gMjUwO1xuICAgIHByaXZhdGUgc2NyZWVuSGVpZ2h0OiBudW1iZXIgPSAyNTA7XG5cbiAgICBjb25zdHJ1Y3RvciAoKSB7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5zY3JlZW5XaWR0aCAqIHRoaXMuc2NyZWVuSGVpZ2h0ICogMzsgaSsrKSB7XG4gICAgICAgICAgICB0aGlzLmJ1ZmZlci5wdXNoKENvbG9yLmJsYWNrKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgY29zaW5lU2FtcGxlSGVtaXNwaGVyZSAobm9ybWFsOiBWZWN0b3IpOiBWZWN0b3Ige1xuICAgICAgICBsZXQgdSA9IE1hdGgucmFuZG9tKCk7XG4gICAgICAgIGxldCB2ID0gTWF0aC5yYW5kb20oKTtcbiAgICAgICAgbGV0IHIgPSBNYXRoLnNxcnQodSk7XG4gICAgICAgIGxldCBhbmdsZSA9IDIgKiBNYXRoLlBJICogdjtcblxuICAgICAgICBsZXQgc2RpcixcbiAgICAgICAgICAgIHRkaXI7XG5cbiAgICAgICAgaWYgKE1hdGguYWJzKG5vcm1hbC5nZXRDb29yZGluYXRlcygpWyd4J10pIDwgMC41KSB7XG4gICAgICAgICAgICBzZGlyID0gVmVjdG9yLmNyb3NzKG5vcm1hbCwgbmV3IFZlY3RvcigxLDAsMCkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc2RpciA9IFZlY3Rvci5jcm9zcyhub3JtYWwsIG5ldyBWZWN0b3IoMCwxLDApKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRkaXIgPSBWZWN0b3IuY3Jvc3Mobm9ybWFsLCBzZGlyKTtcblxuICAgICAgICByZXR1cm4gVmVjdG9yLmFkZChcbiAgICAgICAgICAgIFZlY3Rvci5zY2FsZShub3JtYWwsICBNYXRoLnNxcnQoMSAtIHUpKSxcbiAgICAgICAgICAgIFZlY3Rvci5hZGQoXG4gICAgICAgICAgICAgICAgVmVjdG9yLnNjYWxlKHNkaXIsIHIgKiBNYXRoLmNvcyhhbmdsZSkpLFxuICAgICAgICAgICAgICAgIFZlY3Rvci5zY2FsZSh0ZGlyLCByICogTWF0aC5zaW4oYW5nbGUpKVxuICAgICAgICAgICAgKVxuICAgICAgICApO1xuICAgIH1cblxuICAgIHByaXZhdGUgZ2V0Q29sb3IgKHJheTogUmF5KTogQ29sb3Ige1xuICAgICAgICBsZXQgaW50ZXJzZWN0aW9uID0gdGhpcy50cmFjZShyYXkpLFxuICAgICAgICAgICAgZGlmZnVzZUNvbG9yOiBDb2xvciA9IENvbG9yLmJsYWNrLFxuICAgICAgICAgICAgcmVmbGVjdENvbG9yOiBDb2xvciA9IENvbG9yLmJsYWNrLFxuICAgICAgICAgICAgcmF5SXRlcmF0aW9uOiBudW1iZXIgPSByYXkuZ2V0SXRlcmF0aW9uKCk7XG5cbiAgICAgICAgcmF5LnNldEl0ZXJhdGlvbigtLXJheUl0ZXJhdGlvbik7XG5cbiAgICAgICAgaWYgKHJheUl0ZXJhdGlvbiA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIENvbG9yLmJsYWNrO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFpbnRlcnNlY3Rpb24uZ2V0SW50ZXJzZWN0KCkpIHtcbiAgICAgICAgICAgIHJldHVybiBDb2xvci5ibGFjaztcbiAgICAgICAgfVxuXG4gICAgICAgIGRpZmZ1c2VDb2xvciA9IHRoaXMuZ2V0RGlmZnVzZUNvbG9yKHJheSwgaW50ZXJzZWN0aW9uKTtcbiAgICAgICAgcmVmbGVjdENvbG9yID0gdGhpcy5nZXRSZWZsZWN0aW9uQ29sb3IocmF5LCBpbnRlcnNlY3Rpb24pO1xuXG4gICAgICAgIHJldHVybiBkaWZmdXNlQ29sb3IuYWRkKHJlZmxlY3RDb2xvcik7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBnZXREaWZmdXNlQ29sb3IgKHJheTogUmF5LCBpbnRlcnNlY3Q6IGFueSwgcmVjdXJzaXZlOiBib29sZWFuID0gdHJ1ZSk6IENvbG9yIHtcbiAgICAgICAgbGV0IHA6IG51bWJlcjtcblxuICAgICAgICBsZXQgbGFtYkNvbG9yID0gQ29sb3IuYmxhY2s7XG4gICAgICAgIGxldCBwaG9uZ0NvbG9yID0gQ29sb3IuYmxhY2s7XG5cbiAgICAgICAgZm9yIChsZXQgbGlnaHQgb2YgdGhpcy5zY2VuZS5nZXRPYmplY3RzKCkpIHtcbiAgICAgICAgICAgIGlmIChsaWdodC5nZXRNYXRlcmlhbCgpLmdldEVtaXNzaW9uVmFsdWUoKSA9PT0gMCkge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvL2xhbWJDb2xvciA9IGxhbWJDb2xvci5hZGQodGhpcy5nZXRMaWdodFBvd2VyKHJheSwgaW50ZXJzZWN0LCBsaWdodCkpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKFxuICAgICAgICAgICAgaW50ZXJzZWN0LmdldE93bmVyKCkuZ2V0TWF0ZXJpYWwoKS5nZXRFbWlzc2lvblZhbHVlKCkgPT09IDBcbiAgICAgICAgKSB7XG4gICAgICAgICAgICBwID0gMDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHAgPSAwLjk7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgY29sb3IgPSBsYW1iQ29sb3IuYWRkKGludGVyc2VjdC5nZXRPd25lcigpLmdldE1hdGVyaWFsKCkuZ2V0Q29sb3IoKS5hZGQoaW50ZXJzZWN0LmdldE93bmVyKCkuZ2V0TWF0ZXJpYWwoKS5nZXRFbWlzc2lvbigpKSk7XG5cbiAgICAgICAgaWYgKE1hdGgucmFuZG9tKCkgPCBwKSB7XG4gICAgICAgICAgICByZXR1cm4gY29sb3I7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy5nZXRDb2xvcihcbiAgICAgICAgICAgIG5ldyBSYXkoXG4gICAgICAgICAgICAgICAgaW50ZXJzZWN0LmdldEhpdFBvaW50KCksXG4gICAgICAgICAgICAgICAgdGhpcy5jb3NpbmVTYW1wbGVIZW1pc3BoZXJlKFxuICAgICAgICAgICAgICAgICAgICBpbnRlcnNlY3QuZ2V0T3duZXIoKS5nZXROb3JtYWwoaW50ZXJzZWN0LmdldEhpdFBvaW50KCkpXG4gICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICByYXkuZ2V0SXRlcmF0aW9uKClcbiAgICAgICAgICAgIClcbiAgICAgICAgKS5tdWx0aXBsZShjb2xvcik7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBnZXRSZWZsZWN0aW9uQ29sb3IgKHJheTogUmF5LCBpbnRlcnNlY3Q6IGFueSk6IGFueSB7XG4gICAgICAgIGxldCByZWZsZWN0aW9uQ29sb3I6IENvbG9yLFxuICAgICAgICAgICAgcmVmbGVjdGlvblZhbHVlOiBudW1iZXIgPSBpbnRlcnNlY3QuZ2V0T3duZXIoKS5nZXRNYXRlcmlhbCgpLmdldFJlZmxlY3Rpb25WYWx1ZSgpLFxuICAgICAgICAgICAgcmVmbGVjdGVkUmF5OiBWZWN0b3I7XG5cbiAgICAgICAgaWYgKHJlZmxlY3Rpb25WYWx1ZSA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIENvbG9yLmJsYWNrO1xuICAgICAgICB9XG5cbiAgICAgICAgcmVmbGVjdGVkUmF5ID0gVmVjdG9yLnJlZmxlY3QoXG4gICAgICAgICAgICByYXkuZ2V0RGlyZWN0aW9uKCksXG4gICAgICAgICAgICBpbnRlcnNlY3QuZ2V0Tm9ybWFsKClcbiAgICAgICAgKTtcblxuICAgICAgICByZWZsZWN0aW9uQ29sb3IgPSB0aGlzLmdldENvbG9yKFxuICAgICAgICAgICAgbmV3IFJheShpbnRlcnNlY3QuZ2V0SGl0UG9pbnQoKSwgcmVmbGVjdGVkUmF5LCByYXkuZ2V0SXRlcmF0aW9uKCkpXG4gICAgICAgICkuc2NhbGVkKHJlZmxlY3Rpb25WYWx1ZSk7XG5cbiAgICAgICAgcmV0dXJuIHJlZmxlY3Rpb25Db2xvcjtcbiAgICB9XG5cbiAgICBwcml2YXRlIGdldFBlcnNwZWN0aXZlVmVjdG9yICh4OiBudW1iZXIsIHk6IG51bWJlcikge1xuICAgICAgICBsZXQgY2FtZXJhOiBDYW1lcmEgPSB0aGlzLnNjZW5lLmdldENhbWVyYSgpO1xuXG4gICAgICAgIHJldHVybiBWZWN0b3Iubm9ybWFsaXplKFxuICAgICAgICAgICAgVmVjdG9yLmFkZChcbiAgICAgICAgICAgICAgICBjYW1lcmEuZ2V0Rm9yd2FyZFZlY3RvcigpLFxuICAgICAgICAgICAgICAgIFZlY3Rvci5hZGQoXG4gICAgICAgICAgICAgICAgICAgIFZlY3Rvci5zY2FsZShcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhbWVyYS5nZXRSaWdodFZlY3RvcigpLFxuICAgICAgICAgICAgICAgICAgICAgICAgY2FtZXJhLnJlY2VudGVyWCh4KVxuICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICBWZWN0b3Iuc2NhbGUoXG4gICAgICAgICAgICAgICAgICAgICAgICBjYW1lcmEuZ2V0VXBWZWN0b3IoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhbWVyYS5yZWNlbnRlclkoeSlcbiAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgIClcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGdldExpZ2h0UG93ZXIgKHJheTogUmF5LCBpbnRlcnNlY3Q6IGFueSwgb2JqZWN0OiBBYnN0cmFjdE9iamVjdCk6IGFueSB7XG4gICAgICAgIGxldCBsID0gb2JqZWN0LmdldFJhbmRvbVBvaW50KCk7XG5cbiAgICAgICAgbGV0IGNvc19hX21heCA9IE1hdGguc3FydChcbiAgICAgICAgICAgIDEgLSBvYmplY3QuZ2V0UmFkaXVzKCkgKiogMiAvIFZlY3Rvci5kb3QoVmVjdG9yLnN1YnN0cmFjdChpbnRlcnNlY3QuZ2V0SGl0UG9pbnQoKSwgb2JqZWN0LmdldFBvc2l0aW9uKCkpLCBWZWN0b3Iuc3Vic3RyYWN0KGludGVyc2VjdC5nZXRIaXRQb2ludCgpLCBvYmplY3QuZ2V0UG9zaXRpb24oKSkpXG4gICAgICAgICk7XG5cbiAgICAgICAgbGV0IHNoYWRvd1JheSA9IHRoaXMudHJhY2UoXG4gICAgICAgICAgICBuZXcgUmF5KFxuICAgICAgICAgICAgICAgIGludGVyc2VjdC5nZXRIaXRQb2ludCgpLFxuICAgICAgICAgICAgICAgIFZlY3Rvci5zdWJzdHJhY3QoXG4gICAgICAgICAgICAgICAgICAgIFZlY3Rvci5zdWJzdHJhY3QoXG4gICAgICAgICAgICAgICAgICAgICAgICBvYmplY3QuZ2V0UG9zaXRpb24oKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGxcbiAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgaW50ZXJzZWN0LmdldEhpdFBvaW50KClcbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICApXG4gICAgICAgICk7XG5cbiAgICAgICAgaWYgKFxuICAgICAgICAgICAgc2hhZG93UmF5LmdldEludGVyc2VjdCgpICYmXG4gICAgICAgICAgICBzaGFkb3dSYXkuZ2V0T3duZXIoKS5nZXRNYXRlcmlhbCgpLmdldEVtaXNzaW9uVmFsdWUoKSA+IDBcbiAgICAgICAgKSB7XG4gICAgICAgICAgICBsZXQgb21lZ2EgPSAyICogTWF0aC5QSSAqICgxIC0gY29zX2FfbWF4KTtcblxuICAgICAgICAgICAgbGV0IG5sID0gVmVjdG9yLmRvdChpbnRlcnNlY3QuZ2V0Tm9ybWFsKCksIHJheS5nZXREaXJlY3Rpb24oKSkgPCAwID8gaW50ZXJzZWN0LmdldE5vcm1hbCgpIDogVmVjdG9yLnNjYWxlKGludGVyc2VjdC5nZXROb3JtYWwoKSwgLTEpO1xuXG4gICAgICAgICAgICByZXR1cm4gaW50ZXJzZWN0XG4gICAgICAgICAgICAgICAgLmdldE93bmVyKClcbiAgICAgICAgICAgICAgICAuZ2V0TWF0ZXJpYWwoKVxuICAgICAgICAgICAgICAgIC5nZXRDb2xvcigpXG4gICAgICAgICAgICAgICAgLmFkZChcbiAgICAgICAgICAgICAgICAgICAgb2JqZWN0XG4gICAgICAgICAgICAgICAgICAgICAgICAuZ2V0TWF0ZXJpYWwoKVxuICAgICAgICAgICAgICAgICAgICAgICAgLmdldEVtaXNzaW9uKClcbiAgICAgICAgICAgICAgICAgICAgICAgIC5zY2FsZWQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgVmVjdG9yLmRvdChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAuc2NhbGVkKG9tZWdhKVxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAuc2NhbGVkKDEgLyBNYXRoLlBJKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBDb2xvci5ibGFjaztcbiAgICAgICAgfVxuXG4gICAgICAgIC8qbGV0IGxpZ2h0UG93ZXIgPSBvYmplY3QuZ2V0TWF0ZXJpYWwoKS5nZXRFbWlzc2lvbigpLFxuICAgICAgICAgICAgbGlnaHRSYW5kb21Qb2ludDogVmVjdG9yLFxuICAgICAgICAgICAgc2hhZG93UmF5OiBJbnRlcnNlY3RQb2ludCxcbiAgICAgICAgICAgIHJlc3VsdFBvd2VyOiBudW1iZXIgPSAwO1xuXG4gICAgICAgIGxpZ2h0UmFuZG9tUG9pbnQgPSBvYmplY3QuZ2V0UmFuZG9tUG9pbnQoKTtcblxuICAgICAgICBzaGFkb3dSYXkgPSB0aGlzLnRyYWNlKFxuICAgICAgICAgICAgbmV3IFJheShcbiAgICAgICAgICAgICAgICBpbnRlcnNlY3QuZ2V0SGl0UG9pbnQoKSxcbiAgICAgICAgICAgICAgICBWZWN0b3Iuc3Vic3RyYWN0KFxuICAgICAgICAgICAgICAgICAgICBWZWN0b3Iuc3Vic3RyYWN0KFxuICAgICAgICAgICAgICAgICAgICAgICAgb2JqZWN0LmdldFBvc2l0aW9uKCksXG4gICAgICAgICAgICAgICAgICAgICAgICBsaWdodFJhbmRvbVBvaW50XG4gICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgIGludGVyc2VjdC5nZXRIaXRQb2ludCgpXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgKVxuICAgICAgICApO1xuXG4gICAgICAgIGlmIChcbiAgICAgICAgICAgIHNoYWRvd1JheS5nZXRJbnRlcnNlY3QoKSAmJlxuICAgICAgICAgICAgc2hhZG93UmF5LmdldE93bmVyKCkuZ2V0TWF0ZXJpYWwoKS5nZXRFbWlzc2lvblZhbHVlKCkgPiAwXG4gICAgICAgICkge1xuICAgICAgICAgICAgcmVzdWx0UG93ZXIgPSAxO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHJlc3VsdFBvd2VyO1xuXG4gICAgICAgIC8qbGlnaHRSYW5kb21Qb2ludCA9IHRoaXMuY29zaW5lU2FtcGxlSGVtaXNwaGVyZShcbiAgICAgICAgICAgIGludGVyc2VjdC5nZXRPd25lcigpLmdldE5vcm1hbChpbnRlcnNlY3QuZ2V0SGl0UG9pbnQoKSlcbiAgICAgICAgKTtcblxuICAgICAgICBzaGFkb3dSYXkgPSB0aGlzLnRyYWNlKFxuICAgICAgICAgICAgbmV3IFJheShcbiAgICAgICAgICAgICAgICBpbnRlcnNlY3QuZ2V0SGl0UG9pbnQoKSxcbiAgICAgICAgICAgICAgICBsaWdodFJhbmRvbVBvaW50XG4gICAgICAgICAgICApXG4gICAgICAgICk7XG5cbiAgICAgICAgaWYgKFxuICAgICAgICAgICAgc2hhZG93UmF5LmdldEludGVyc2VjdCgpICYmXG4gICAgICAgICAgICBzaGFkb3dSYXkuZ2V0T3duZXIoKSBpbnN0YW5jZW9mIEFic3RyYWN0TGlnaHRcbiAgICAgICAgKSB7XG4gICAgICAgICAgICByZXN1bHRQb3dlciA9IChcbiAgICAgICAgICAgICAgICAoXG4gICAgICAgICAgICAgICAgICAgIFZlY3Rvci5zdWJzdHJhY3QoXG4gICAgICAgICAgICAgICAgICAgICAgICBWZWN0b3Iuc3Vic3RyYWN0KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpZ2h0LmdldFBvc2l0aW9uKCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGlnaHRSYW5kb21Qb2ludFxuICAgICAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGludGVyc2VjdC5nZXRIaXRQb2ludCgpXG4gICAgICAgICAgICAgICAgICAgICkuZ2V0TGVuZ3RoKCkgKiAobGlnaHRQb3dlciAvIGxpZ2h0LmdldEZhZGVSYWRpdXMoKSlcbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICApO1xuXG4gICAgICAgICAgICBpZiAocmVzdWx0UG93ZXIgPCAwKSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0UG93ZXIgPSAwO1xuICAgICAgICAgICAgfVxuICAgICAgICB9Ki9cblxuICAgICAgICAvKnJldHVybiByZXN1bHRQb3dlcjsqL1xuICAgIH1cblxuICAgIHByaXZhdGUgdHJhY2UgKHJheTogUmF5KTogSW50ZXJzZWN0UG9pbnQge1xuICAgICAgICBsZXQgaW50ZXJzZWN0aW9uID0gbmV3IEludGVyc2VjdFBvaW50KCksXG4gICAgICAgICAgICBpbnRlcnNlY3REYXRhOiBhbnksXG4gICAgICAgICAgICBtaW5EaXN0YW5jZTogbnVtYmVyID0gSW5maW5pdHksXG4gICAgICAgICAgICBzY2VuZU9iamVjdHM6IEFic3RyYWN0T2JqZWN0W10gPSB0aGlzLnNjZW5lLmdldE9iamVjdHMoKTtcblxuICAgICAgICBmb3IgKGxldCBvYmplY3Qgb2Ygc2NlbmVPYmplY3RzKSB7XG4gICAgICAgICAgICBpbnRlcnNlY3REYXRhID0gb2JqZWN0LmdldEludGVyc2VjdERhdGEocmF5KTtcblxuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgIGludGVyc2VjdERhdGEgJiZcbiAgICAgICAgICAgICAgICBpbnRlcnNlY3REYXRhWydkaXN0YW5jZSddIDwgbWluRGlzdGFuY2VcbiAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgIG1pbkRpc3RhbmNlID0gaW50ZXJzZWN0RGF0YVsnZGlzdGFuY2UnXTtcblxuICAgICAgICAgICAgICAgIGludGVyc2VjdGlvbi5zZXRJbnRlcnNlY3QoKTtcbiAgICAgICAgICAgICAgICBpbnRlcnNlY3Rpb24uc2V0SGl0UG9pbnQoaW50ZXJzZWN0RGF0YVsnaGl0UG9pbnQnXSk7XG4gICAgICAgICAgICAgICAgaW50ZXJzZWN0aW9uLnNldE5vcm1hbChpbnRlcnNlY3REYXRhWydub3JtYWwnXSk7XG4gICAgICAgICAgICAgICAgaW50ZXJzZWN0aW9uLnNldERpc3RhbmNlRnJvbU9yaWdpbihpbnRlcnNlY3REYXRhWydkaXN0YW5jZSddKTtcbiAgICAgICAgICAgICAgICBpbnRlcnNlY3Rpb24uc2V0T3duZXIob2JqZWN0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBpbnRlcnNlY3Rpb247XG4gICAgfVxuXG4gICAgcHVibGljIHJlbmRlciAoc2NyZWVuV2lkdGg6IG51bWJlciwgc2NyZWVuSGVpZ2h0OiBudW1iZXIpOiB2b2lkIHtcbiAgICAgICAgY29uc3QgcmFuZG9NdWx0aXBsaWVyID0gMC41O1xuXG4gICAgICAgIGxldCBidWZmZXI6IG51bWJlcltdLFxuICAgICAgICAgICAgY29sb3I6IENvbG9yLFxuICAgICAgICAgICAgcmFuZDogbnVtYmVyLFxuICAgICAgICAgICAgcmF5OiBSYXk7XG5cbiAgICAgICAgdGhpcy5zY3JlZW5XaWR0aCA9IHNjcmVlbldpZHRoO1xuICAgICAgICB0aGlzLnNjcmVlbkhlaWdodCA9IHNjcmVlbkhlaWdodDtcblxuICAgICAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgICAgICAgYnVmZmVyID0gW107XG5cbiAgICAgICAgICAgIGZvciAobGV0IGl0ZXJhdGlvbiA9IDA7IGl0ZXJhdGlvbiA8IDE7IGl0ZXJhdGlvbisrKSB7XG4gICAgICAgICAgICAgICAgbGV0IGkgPSAwO1xuXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgeSA9IDA7IHkgPCB0aGlzLnNjcmVlbkhlaWdodDsgeSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IHggPSAwOyB4IDwgdGhpcy5zY3JlZW5XaWR0aDsgeCsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByYW5kID0gMDtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKE1hdGgucmFuZG9tKCkgPiAwLjUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByYW5kICs9IE1hdGgucmFuZG9tKCkgKiByYW5kb011bHRpcGxpZXI7XG4gICAgICAgICAgICAgICAgICAgICAgICB9ICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByYW5kIC09IE1hdGgucmFuZG9tKCkgKiByYW5kb011bHRpcGxpZXI7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHJheSA9IG5ldyBSYXkoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zY2VuZS5nZXRDYW1lcmEoKS5nZXRQb3NpdGlvbigpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZ2V0UGVyc3BlY3RpdmVWZWN0b3IoeCArIHJhbmQsIHkgKyByYW5kKVxuICAgICAgICAgICAgICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5idWZmZXJbaV0gPSBDb2xvci5ibGFjay5hZGQodGhpcy5nZXRDb2xvcihyYXkpKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgY29tcG9uZW50IGluIHRoaXMuYnVmZmVyW2ldLmdldENvbG9yKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmJ1ZmZlcltpXVtjb21wb25lbnRdID0gQ29sb3Iuc1JHQkVuY29kZSh0aGlzLmJ1ZmZlcltpXVtjb21wb25lbnRdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgYnVmZmVyLnB1c2godGhpcy5idWZmZXJbaV0uZ2V0Q29sb3IoKVsncmVkJ10pO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnVmZmVyLnB1c2godGhpcy5idWZmZXJbaV0uZ2V0Q29sb3IoKVsnZ3JlZW4nXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBidWZmZXIucHVzaCh0aGlzLmJ1ZmZlcltpXS5nZXRDb2xvcigpWydibHVlJ10pO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpKys7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGZvcihsZXQgIGkgPSAwOyBpIDwgdGhpcy5idWZmZXIubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICB0aGlzLmJ1ZmZlcltpXS5nZXRDb2xvcigpWydyZWQnXSA9IDAuMDtcbiAgICAgICAgICAgICAgICB0aGlzLmJ1ZmZlcltpXS5nZXRDb2xvcigpWydncmVlbiddID0gMC4wO1xuICAgICAgICAgICAgICAgIHRoaXMuYnVmZmVyW2ldLmdldENvbG9yKClbJ2JsdWUnXSA9IDAuMDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgc2VsZi5wb3N0TWVzc2FnZShidWZmZXIpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHVibGljIHNldFNjZW5lIChzY2VuZTogU2NlbmUpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5zY2VuZSA9IHNjZW5lO1xuICAgIH1cbn1cblxub25tZXNzYWdlID0gZnVuY3Rpb24gKG1lc3NhZ2UpIHtcbiAgICB2YXIgZGF0YSA9IG1lc3NhZ2UuZGF0YTtcblxuICAgIGlmICh0eXBlb2YoZGF0YSkgPT0gJ3N0cmluZycpIHtcbiAgICAgICAgZGF0YSA9IEpTT04ucGFyc2UoJ1snK2RhdGErJ10nKTtcbiAgICB9XG5cbiAgICBsZXQgdHJhY2VyID0gbmV3IFRyYWNlcigpO1xuXG4gICAgdHJhY2VyLnNldFNjZW5lKFxuICAgICAgICBuZXcgU2NlbmUoe1xuICAgICAgICAgICAgY2FtZXJhOiBuZXcgQ2FtZXJhKFxuICAgICAgICAgICAgICAgIG5ldyBWZWN0b3IoMCwgMCwgLTY5OSksXG4gICAgICAgICAgICAgICAgbmV3IFZlY3RvcigwLCAwLCAxKSxcbiAgICAgICAgICAgICAgICBkYXRhWzBdLFxuICAgICAgICAgICAgICAgIGRhdGFbMV1cbiAgICAgICAgICAgICksXG4gICAgICAgICAgICBvYmplY3RzOiBbXG4gICAgICAgICAgICAgICAgbmV3IFNwaGVyZShuZXcgVmVjdG9yKDAsIDYzMCwgMCksIDYwKVxuICAgICAgICAgICAgICAgICAgICAuc2V0TWF0ZXJpYWwobmV3IE1hdGVyaWFsKENvbG9yLmdyYXksIG5ldyBDb2xvcihuZXcgRmxvYXRDb2xvcig0MDAsIDQwMCwgNDAwKSkpKSxcbiAgICAgICAgICAgICAgICBuZXcgUGxhbmUobmV3IFZlY3RvcigwLCAxLCAwKSwgbmV3IFZlY3RvciAoMCwgLTcwMCwgMCkpLnNldE1hdGVyaWFsKG5ldyBNYXRlcmlhbChuZXcgQ29sb3IobmV3IFJHQkNvbG9yKDAuNzUgKiAyNTUsIDAuNzUgKiAyNTUsIDAuNzUgKiAyNTUpKSkuc2V0TGFtYmVydENvZWZmKDEpKSxcbiAgICAgICAgICAgICAgICBuZXcgUGxhbmUobmV3IFZlY3RvcigwLCAtMSwgMCksIG5ldyBWZWN0b3IgKDAsIDcwMCwgMCkpLnNldE1hdGVyaWFsKG5ldyBNYXRlcmlhbChuZXcgQ29sb3IobmV3IFJHQkNvbG9yKDAuNzUgKiAyNTUsIDAuNzUgKiAyNTUsIDAuNzUgKiAyNTUpKSkuc2V0TGFtYmVydENvZWZmKDEpKSxcbiAgICAgICAgICAgICAgICBuZXcgUGxhbmUobmV3IFZlY3RvcigtMSwgMCwgMCksIG5ldyBWZWN0b3IgKDcwMCwgMCwgMCkpLnNldE1hdGVyaWFsKG5ldyBNYXRlcmlhbChuZXcgQ29sb3IobmV3IFJHQkNvbG9yKDAuMyAqIDI1NSwgMjU1LCAwLjEgKiAyNTUpKSkuc2V0TGFtYmVydENvZWZmKDEpKSxcbiAgICAgICAgICAgICAgICBuZXcgUGxhbmUobmV3IFZlY3RvcigxLCAwLCAwKSwgbmV3IFZlY3RvciAoLTcwMCwgMCwgMCkpLnNldE1hdGVyaWFsKG5ldyBNYXRlcmlhbChuZXcgQ29sb3IobmV3IFJHQkNvbG9yKDI1NSwgMC4zICogMjU1LCAwLjEgKiAyNTUpKSkuc2V0TGFtYmVydENvZWZmKDEpKSxcbiAgICAgICAgICAgICAgICBuZXcgUGxhbmUobmV3IFZlY3RvcigwLCAwLCAtMSksIG5ldyBWZWN0b3IgKDAsIDAsIDcwMCkpLnNldE1hdGVyaWFsKG5ldyBNYXRlcmlhbChuZXcgQ29sb3IobmV3IFJHQkNvbG9yKDAuNzUgKiAyNTUsIDAuNzUgKiAyNTUsIDAuNzUgKiAyNTUpKSkuc2V0TGFtYmVydENvZWZmKDEpKSxcbiAgICAgICAgICAgICAgICBuZXcgUGxhbmUobmV3IFZlY3RvcigwLCAwLCAxKSwgbmV3IFZlY3RvciAoMCwgMCwgLTcwMCkpLnNldE1hdGVyaWFsKG5ldyBNYXRlcmlhbChDb2xvci5ibGFjaykuc2V0TGFtYmVydENvZWZmKDEpKSxcbiAgICAgICAgICAgICAgICAvLyBib3R0b20gcGxhbmVcbiAgICAgICAgICAgICAgICAvKm5ldyBTcGhlcmUobmV3IFZlY3RvcigtMjUwLCAtNTAwLCA0NTApLCAyMDApXG4gICAgICAgICAgICAgICAgICAgIC5zZXRNYXRlcmlhbChuZXcgTWF0ZXJpYWwoQ29sb3IuYmxhY2ssIDEpKSwqL1xuICAgICAgICAgICAgICAgIG5ldyBTcGhlcmUobmV3IFZlY3RvcigwLCAtMzAwLCA0MDApLCA0MDApXG4gICAgICAgICAgICAgICAgICAgIC5zZXRNYXRlcmlhbChuZXcgTWF0ZXJpYWwoQ29sb3IuZ3JheSkpXG4gICAgICAgICAgICBdXG4gICAgICAgIH0pXG4gICAgKTtcblxuICAgIHRyYWNlci5yZW5kZXIoZGF0YVswXSwgZGF0YVsxXSk7XG59OyIsImV4cG9ydCBjbGFzcyBWZWN0b3Ige1xuICAgIHByaXZhdGUgeDogbnVtYmVyO1xuICAgIHByaXZhdGUgeTogbnVtYmVyO1xuICAgIHByaXZhdGUgejogbnVtYmVyO1xuXG4gICAgY29uc3RydWN0b3IgKHg6IG51bWJlciwgeTogbnVtYmVyLCB6OiBudW1iZXIpIHtcbiAgICAgICAgdGhpcy54ID0geDtcbiAgICAgICAgdGhpcy55ID0geTtcbiAgICAgICAgdGhpcy56ID0gejtcbiAgICB9XG5cbiAgICBnZXRDb29yZGluYXRlcyAoKToge3g6IG51bWJlciwgeTogbnVtYmVyLCB6OiBudW1iZXJ9IHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHg6IHRoaXMueCxcbiAgICAgICAgICAgIHk6IHRoaXMueSxcbiAgICAgICAgICAgIHo6IHRoaXMuelxuICAgICAgICB9O1xuICAgIH1cblxuICAgIHB1YmxpYyBhc0FycmF5ICgpOiBudW1iZXJbXSB7XG4gICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICB0aGlzLngsXG4gICAgICAgICAgICB0aGlzLnksXG4gICAgICAgICAgICB0aGlzLnpcbiAgICAgICAgXTtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0TGVuZ3RoICgpOiBudW1iZXIge1xuICAgICAgICByZXR1cm4gTWF0aC5zcXJ0KHRoaXMueCAqKiAyICsgdGhpcy55ICoqIDIgKyB0aGlzLnogKiogMik7XG4gICAgfVxuXG4gICAgcHVibGljIHN0YXRpYyBzY2FsZSAodmVjdG9yOiBWZWN0b3IsIG11bHRpcGxpZXI6IG51bWJlcik6IFZlY3RvciB7XG4gICAgICAgIHJldHVybiBuZXcgVmVjdG9yKHZlY3Rvci54ICogbXVsdGlwbGllciwgdmVjdG9yLnkgKiBtdWx0aXBsaWVyLCB2ZWN0b3IueiAqIG11bHRpcGxpZXIpO1xuICAgIH1cblxuICAgIHB1YmxpYyBzdGF0aWMgYWRkICh2ZWN0b3IxOiBWZWN0b3IsIHZlY3RvcjI6IFZlY3Rvcik6IFZlY3RvciB7XG4gICAgICAgIHJldHVybiBuZXcgVmVjdG9yKHZlY3RvcjEueCArIHZlY3RvcjIueCwgdmVjdG9yMS55ICsgdmVjdG9yMi55LCB2ZWN0b3IxLnogKyB2ZWN0b3IyLnopO1xuICAgIH1cblxuICAgIHB1YmxpYyBzdGF0aWMgc3Vic3RyYWN0ICh2ZWN0b3IxOiBWZWN0b3IsIHZlY3RvcjI6IFZlY3Rvcik6IFZlY3RvciB7XG4gICAgICAgIHJldHVybiBuZXcgVmVjdG9yKHZlY3RvcjEueCAtIHZlY3RvcjIueCwgdmVjdG9yMS55IC0gdmVjdG9yMi55LCB2ZWN0b3IxLnogLSB2ZWN0b3IyLnopO1xuICAgIH1cblxuICAgIHB1YmxpYyBzdGF0aWMgZG90ICh2ZWN0b3IxOiBWZWN0b3IsIHZlY3RvcjI6IFZlY3Rvcik6IG51bWJlciB7XG4gICAgICAgIHJldHVybiB2ZWN0b3IxLnggKiB2ZWN0b3IyLnggKyB2ZWN0b3IxLnkgKiB2ZWN0b3IyLnkgKyB2ZWN0b3IxLnogKiB2ZWN0b3IyLno7XG4gICAgfVxuXG4gICAgcHVibGljIHN0YXRpYyBjcm9zcyAodmVjdG9yMTogVmVjdG9yLCB2ZWN0b3IyOiBWZWN0b3IpOiBWZWN0b3Ige1xuICAgICAgICByZXR1cm4gbmV3IFZlY3RvcihcbiAgICAgICAgICAgIHZlY3RvcjEueSAqIHZlY3RvcjIueiAtIHZlY3RvcjEueiAqIHZlY3RvcjIueSxcbiAgICAgICAgICAgIHZlY3RvcjEueiAqIHZlY3RvcjIueCAtIHZlY3RvcjEueCAqIHZlY3RvcjIueixcbiAgICAgICAgICAgIHZlY3RvcjEueCAqIHZlY3RvcjIueSAtIHZlY3RvcjEueSAqIHZlY3RvcjIueFxuICAgICAgICApO1xuICAgIH1cblxuICAgIHB1YmxpYyBzdGF0aWMgbm9ybWFsaXplICh2ZWN0b3I6IFZlY3Rvcik6IFZlY3RvciB7XG4gICAgICAgIHJldHVybiBWZWN0b3Iuc2NhbGUodmVjdG9yLCAxIC8gdmVjdG9yLmdldExlbmd0aCgpKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgc3RhdGljIHBvdyAodmVjdG9yOiBWZWN0b3IsIHZhbHVlOiBudW1iZXIpOiBWZWN0b3Ige1xuICAgICAgICByZXR1cm4gbmV3IFZlY3RvcihcbiAgICAgICAgICAgIHZlY3Rvci55ICoqIHZhbHVlLFxuICAgICAgICAgICAgdmVjdG9yLnogKiogdmFsdWUsXG4gICAgICAgICAgICB2ZWN0b3IueCAqKiB2YWx1ZVxuICAgICAgICApO1xuICAgIH1cblxuICAgIHB1YmxpYyBzdGF0aWMgaW52ZXJzZSAodmVjdG9yOiBWZWN0b3IpOiBWZWN0b3Ige1xuICAgICAgICByZXR1cm4gVmVjdG9yLnNjYWxlKHZlY3RvciwgLTEpO1xuICAgIH1cblxuICAgIHB1YmxpYyBzdGF0aWMgcmVmbGVjdCAodmVjdG9yOiBWZWN0b3IsIG5vcm1hbDogVmVjdG9yKTogVmVjdG9yIHtcbiAgICAgICAgbGV0IGYgPSAyICogVmVjdG9yLmRvdCh2ZWN0b3IsIG5vcm1hbCk7XG5cbiAgICAgICAgcmV0dXJuIFZlY3Rvci5zdWJzdHJhY3QoXG4gICAgICAgICAgICB2ZWN0b3IsXG4gICAgICAgICAgICBWZWN0b3Iuc2NhbGUobm9ybWFsLCBmKVxuICAgICAgICApO1xuICAgIH1cbn1cbiJdfQ==
