"use strict";var Vector_1=require("./Vector"),Camera=function(){function t(t,r,e,o){this.position=t,this.direction=Vector_1.Vector.normalize(r),this.screenWidth=e,this.screenHeight=o,this.forwardVector=Vector_1.Vector.normalize(Vector_1.Vector.substract(this.direction,this.position)),this.rightVector=Vector_1.Vector.scale(Vector_1.Vector.normalize(Vector_1.Vector.cross(this.forwardVector,new Vector_1.Vector(0,-1,0))),3),this.upVector=Vector_1.Vector.scale(Vector_1.Vector.normalize(Vector_1.Vector.cross(this.forwardVector,this.rightVector)),3)}return t.prototype.getDirection=function(){return this.direction},t.prototype.getPosition=function(){return this.position},t.prototype.getForwardVector=function(){return this.forwardVector},t.prototype.getRightVector=function(){return this.rightVector},t.prototype.getUpVector=function(){return this.upVector},t.prototype.recenterX=function(t){var r=this.screenHeight/this.screenWidth*2;return(t-this.screenWidth/2)/r/this.screenWidth},t.prototype.recenterY=function(t){return-(t-this.screenHeight/2)/2/this.screenHeight},t}();exports.Camera=Camera;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkNhbWVyYS5qcyIsIkNhbWVyYS50cyJdLCJuYW1lcyI6WyJWZWN0b3JfMSIsInJlcXVpcmUiLCJDYW1lcmEiLCJDYW1lcmEuY29uc3RydWN0b3IiLCJDYW1lcmEuZ2V0RGlyZWN0aW9uIiwiQ2FtZXJhLmdldFBvc2l0aW9uIiwiQ2FtZXJhLmdldEZvcndhcmRWZWN0b3IiLCJDYW1lcmEuZ2V0UmlnaHRWZWN0b3IiLCJDYW1lcmEuZ2V0VXBWZWN0b3IiLCJDYW1lcmEucmVjZW50ZXJYIiwiQ2FtZXJhLnJlY2VudGVyWSIsImV4cG9ydHMiXSwibWFwcGluZ3MiOiJBQUFBLFlDQUEsSUFBQUEsVUFBQUMsUUFBdUIsWUFFdkJDLE9BQUEsV0FTSUEsUUFBQUEsR0FBYUEsRUFBa0JBLEVBQW1CQSxFQUFxQkEsR0FDbkVDLEtBQUtBLFNBQVdBLEVBQ2hCQSxLQUFLQSxVQUFZQSxTQUFBQSxPQUFPQSxVQUFVQSxHQUNsQ0EsS0FBS0EsWUFBY0EsRUFDbkJBLEtBQUtBLGFBQWVBLEVBRXBCQSxLQUFLQSxjQUFnQkEsU0FBQUEsT0FBT0EsVUFBVUEsU0FBQUEsT0FBT0EsVUFBVUEsS0FBS0EsVUFBV0EsS0FBS0EsV0FDNUVBLEtBQUtBLFlBQWNBLFNBQUFBLE9BQU9BLE1BQ3RCQSxTQUFBQSxPQUFPQSxVQUNIQSxTQUFBQSxPQUFPQSxNQUNIQSxLQUFLQSxjQUNMQSxHQUFJQSxVQUFBQSxPQUFPQSxFQUFHQSxHQUFJQSxLQUcxQkEsR0FFSkEsS0FBS0EsU0FBV0EsU0FBQUEsT0FBT0EsTUFDbkJBLFNBQUFBLE9BQU9BLFVBQ0hBLFNBQUFBLE9BQU9BLE1BQ0hBLEtBQUtBLGNBQ0xBLEtBQUtBLGNBR2JBLEdBaUNaRCxNQTdCV0EsR0FBQUEsVUFBQUEsYUFBUEEsV0FDSUUsTUFBT0EsTUFBS0EsV0FHVEYsRUFBQUEsVUFBQUEsWUFBUEEsV0FDSUcsTUFBT0EsTUFBS0EsVUFHVEgsRUFBQUEsVUFBQUEsaUJBQVBBLFdBQ0lJLE1BQU9BLE1BQUtBLGVBR1RKLEVBQUFBLFVBQUFBLGVBQVBBLFdBQ0lLLE1BQU9BLE1BQUtBLGFBR1RMLEVBQUFBLFVBQUFBLFlBQVBBLFdBQ0lNLE1BQU9BLE1BQUtBLFVBR1ROLEVBQUFBLFVBQUFBLFVBQVBBLFNBQWtCQSxHQUNkTyxHQUFJQSxHQUFlQSxLQUFLQSxhQUFlQSxLQUFLQSxZQUFlQSxDQUUzREEsUUFBUUEsRUFBS0EsS0FBS0EsWUFBY0EsR0FBTUEsRUFBY0EsS0FBS0EsYUFHdERQLEVBQUFBLFVBQUFBLFVBQVBBLFNBQWtCQSxHQUNkUSxRQUFTQSxFQUFLQSxLQUFLQSxhQUFlQSxHQUFNQSxFQUFJQSxLQUFLQSxjQUV6RFIsSUFqRWFTLFNBQUFULE9BQU1BIiwiZmlsZSI6IkNhbWVyYS5qcyIsInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xudmFyIFZlY3Rvcl8xID0gcmVxdWlyZShcIi4vVmVjdG9yXCIpO1xudmFyIENhbWVyYSA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gQ2FtZXJhKHBvc2l0aW9uLCBkaXJlY3Rpb24sIHNjcmVlbldpZHRoLCBzY3JlZW5IZWlnaHQpIHtcbiAgICAgICAgdGhpcy5wb3NpdGlvbiA9IHBvc2l0aW9uO1xuICAgICAgICB0aGlzLmRpcmVjdGlvbiA9IFZlY3Rvcl8xLlZlY3Rvci5ub3JtYWxpemUoZGlyZWN0aW9uKTtcbiAgICAgICAgdGhpcy5zY3JlZW5XaWR0aCA9IHNjcmVlbldpZHRoO1xuICAgICAgICB0aGlzLnNjcmVlbkhlaWdodCA9IHNjcmVlbkhlaWdodDtcbiAgICAgICAgdGhpcy5mb3J3YXJkVmVjdG9yID0gVmVjdG9yXzEuVmVjdG9yLm5vcm1hbGl6ZShWZWN0b3JfMS5WZWN0b3Iuc3Vic3RyYWN0KHRoaXMuZGlyZWN0aW9uLCB0aGlzLnBvc2l0aW9uKSk7XG4gICAgICAgIHRoaXMucmlnaHRWZWN0b3IgPSBWZWN0b3JfMS5WZWN0b3Iuc2NhbGUoVmVjdG9yXzEuVmVjdG9yLm5vcm1hbGl6ZShWZWN0b3JfMS5WZWN0b3IuY3Jvc3ModGhpcy5mb3J3YXJkVmVjdG9yLCBuZXcgVmVjdG9yXzEuVmVjdG9yKDAsIC0xLCAwKSkpLCAzKTtcbiAgICAgICAgdGhpcy51cFZlY3RvciA9IFZlY3Rvcl8xLlZlY3Rvci5zY2FsZShWZWN0b3JfMS5WZWN0b3Iubm9ybWFsaXplKFZlY3Rvcl8xLlZlY3Rvci5jcm9zcyh0aGlzLmZvcndhcmRWZWN0b3IsIHRoaXMucmlnaHRWZWN0b3IpKSwgMyk7XG4gICAgfVxuICAgIENhbWVyYS5wcm90b3R5cGUuZ2V0RGlyZWN0aW9uID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5kaXJlY3Rpb247XG4gICAgfTtcbiAgICBDYW1lcmEucHJvdG90eXBlLmdldFBvc2l0aW9uID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5wb3NpdGlvbjtcbiAgICB9O1xuICAgIENhbWVyYS5wcm90b3R5cGUuZ2V0Rm9yd2FyZFZlY3RvciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZm9yd2FyZFZlY3RvcjtcbiAgICB9O1xuICAgIENhbWVyYS5wcm90b3R5cGUuZ2V0UmlnaHRWZWN0b3IgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJpZ2h0VmVjdG9yO1xuICAgIH07XG4gICAgQ2FtZXJhLnByb3RvdHlwZS5nZXRVcFZlY3RvciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudXBWZWN0b3I7XG4gICAgfTtcbiAgICBDYW1lcmEucHJvdG90eXBlLnJlY2VudGVyWCA9IGZ1bmN0aW9uICh4KSB7XG4gICAgICAgIHZhciBhc3BlY3RDb2VmZiA9ICh0aGlzLnNjcmVlbkhlaWdodCAvIHRoaXMuc2NyZWVuV2lkdGgpICogMjtcbiAgICAgICAgcmV0dXJuICh4IC0gKHRoaXMuc2NyZWVuV2lkdGggLyAyKSkgLyBhc3BlY3RDb2VmZiAvIHRoaXMuc2NyZWVuV2lkdGg7XG4gICAgfTtcbiAgICBDYW1lcmEucHJvdG90eXBlLnJlY2VudGVyWSA9IGZ1bmN0aW9uICh5KSB7XG4gICAgICAgIHJldHVybiAtKHkgLSAodGhpcy5zY3JlZW5IZWlnaHQgLyAyKSkgLyAyIC8gdGhpcy5zY3JlZW5IZWlnaHQ7XG4gICAgfTtcbiAgICByZXR1cm4gQ2FtZXJhO1xufSkoKTtcbmV4cG9ydHMuQ2FtZXJhID0gQ2FtZXJhO1xuIiwiaW1wb3J0IHsgVmVjdG9yIH0gZnJvbSBcIi4vVmVjdG9yXCI7XG5cbmV4cG9ydCBjbGFzcyBDYW1lcmEge1xuICAgIHByaXZhdGUgZGlyZWN0aW9uOiBWZWN0b3I7XG4gICAgcHJpdmF0ZSBwb3NpdGlvbjogVmVjdG9yO1xuICAgIHByaXZhdGUgZm9yd2FyZFZlY3RvcjogVmVjdG9yO1xuICAgIHByaXZhdGUgcmlnaHRWZWN0b3I6IFZlY3RvcjtcbiAgICBwcml2YXRlIHVwVmVjdG9yOiBWZWN0b3I7XG4gICAgcHJpdmF0ZSBzY3JlZW5XaWR0aDogbnVtYmVyO1xuICAgIHByaXZhdGUgc2NyZWVuSGVpZ2h0OiBudW1iZXI7XG5cbiAgICBjb25zdHJ1Y3RvciAocG9zaXRpb246IFZlY3RvciwgZGlyZWN0aW9uOiBWZWN0b3IsIHNjcmVlbldpZHRoOiBudW1iZXIsIHNjcmVlbkhlaWdodDogbnVtYmVyKSB7XG4gICAgICAgIHRoaXMucG9zaXRpb24gPSBwb3NpdGlvbjtcbiAgICAgICAgdGhpcy5kaXJlY3Rpb24gPSBWZWN0b3Iubm9ybWFsaXplKGRpcmVjdGlvbik7XG4gICAgICAgIHRoaXMuc2NyZWVuV2lkdGggPSBzY3JlZW5XaWR0aDtcbiAgICAgICAgdGhpcy5zY3JlZW5IZWlnaHQgPSBzY3JlZW5IZWlnaHQ7XG5cbiAgICAgICAgdGhpcy5mb3J3YXJkVmVjdG9yID0gVmVjdG9yLm5vcm1hbGl6ZShWZWN0b3Iuc3Vic3RyYWN0KHRoaXMuZGlyZWN0aW9uLCB0aGlzLnBvc2l0aW9uKSk7XG4gICAgICAgIHRoaXMucmlnaHRWZWN0b3IgPSBWZWN0b3Iuc2NhbGUoXG4gICAgICAgICAgICBWZWN0b3Iubm9ybWFsaXplKFxuICAgICAgICAgICAgICAgIFZlY3Rvci5jcm9zcyhcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5mb3J3YXJkVmVjdG9yLFxuICAgICAgICAgICAgICAgICAgICBuZXcgVmVjdG9yKDAsIC0xLCAwKVxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICksXG4gICAgICAgICAgICAzXG4gICAgICAgICk7XG4gICAgICAgIHRoaXMudXBWZWN0b3IgPSBWZWN0b3Iuc2NhbGUoXG4gICAgICAgICAgICBWZWN0b3Iubm9ybWFsaXplKFxuICAgICAgICAgICAgICAgIFZlY3Rvci5jcm9zcyhcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5mb3J3YXJkVmVjdG9yLFxuICAgICAgICAgICAgICAgICAgICB0aGlzLnJpZ2h0VmVjdG9yXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgKSxcbiAgICAgICAgICAgIDNcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0RGlyZWN0aW9uICgpOiBWZWN0b3Ige1xuICAgICAgICByZXR1cm4gdGhpcy5kaXJlY3Rpb247XG4gICAgfVxuXG4gICAgcHVibGljIGdldFBvc2l0aW9uICgpOiBWZWN0b3Ige1xuICAgICAgICByZXR1cm4gdGhpcy5wb3NpdGlvbjtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0Rm9yd2FyZFZlY3RvciAoKTogVmVjdG9yIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZm9yd2FyZFZlY3RvcjtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0UmlnaHRWZWN0b3IgKCk6IFZlY3RvciB7XG4gICAgICAgIHJldHVybiB0aGlzLnJpZ2h0VmVjdG9yO1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXRVcFZlY3RvciAoKTogVmVjdG9yIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudXBWZWN0b3I7XG4gICAgfVxuXG4gICAgcHVibGljIHJlY2VudGVyWCAoeDogbnVtYmVyKTogbnVtYmVyIHtcbiAgICAgICAgbGV0IGFzcGVjdENvZWZmID0gKHRoaXMuc2NyZWVuSGVpZ2h0IC8gdGhpcy5zY3JlZW5XaWR0aCkgKiAyO1xuXG4gICAgICAgIHJldHVybiAoeCAtICh0aGlzLnNjcmVlbldpZHRoIC8gMikpIC8gYXNwZWN0Q29lZmYgLyB0aGlzLnNjcmVlbldpZHRoO1xuICAgIH1cblxuICAgIHB1YmxpYyByZWNlbnRlclkgKHk6IG51bWJlcik6IG51bWJlciB7XG4gICAgICAgIHJldHVybiAtKHkgLSAodGhpcy5zY3JlZW5IZWlnaHQgLyAyKSkgLyAyIC8gdGhpcy5zY3JlZW5IZWlnaHQ7XG4gICAgfVxufVxuIl0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9
