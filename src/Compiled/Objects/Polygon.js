var __extends=this&&this.__extends||function(t,r){function e(){this.constructor=t}for(var o in r)r.hasOwnProperty(o)&&(t[o]=r[o]);t.prototype=null===r?Object.create(r):(e.prototype=r.prototype,new e)},RTMath_1=require("../RTMath"),AbstractObject_1=require("./AbstractObject"),Color_1=require("../Color/Color"),Material_1=require("../Material"),Vector_1=require("../Vector"),Polygon=function(t){function r(){for(var r=[],e=0;e<arguments.length;e++)r[e-0]=arguments[e];t.call(this),this.material=new Material_1.Material(Color_1.Color.gray),this.vertices=r}return __extends(r,t),r.prototype.getIntersectData=function(t){var e,o,c,i,s,n=this.getNormal();if(o=Vector_1.Vector.dot(this.vertices[0],n),s=Vector_1.Vector.dot(n,t.getDirection()),i=-Vector_1.Vector.dot(n,t.getOrigin())+o,e=i/s,!(e<RTMath_1.RTMath.EPSILON)){c=t.getHitPoint(e);for(var a=0,u=this.vertices.length;u>a;a++){var h=this.vertices[a],l=void 0;if(l=a===u-1?this.vertices[0]:this.vertices[a+1],!r.checkSameClockDir(Vector_1.Vector.substract(l,h),Vector_1.Vector.substract(c,h),this.getNormal()))return}return{hitPoint:c,normal:n,distance:e}}},r.prototype.getMaterial=function(){return this.material},r.prototype.getNormal=function(){var t=Vector_1.Vector.substract(this.vertices[2],this.vertices[0]),r=Vector_1.Vector.substract(this.vertices[1],this.vertices[0]);return Vector_1.Vector.normalize(Vector_1.Vector.cross(t,r))},r.prototype.getPosition=function(){return this.vertices[0]},r.prototype.getRandomPoint=function(){return new Vector_1.Vector(0,0,0)},r.prototype.setMaterial=function(t){return this.material=t,this},r.checkSameClockDir=function(t,r,e){var o=Vector_1.Vector.cross(r,t);return Vector_1.Vector.dot(o,e)>=0},r}(AbstractObject_1.AbstractObject);exports.Polygon=Polygon;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIk9iamVjdHMvUG9seWdvbi5qcyIsIk9iamVjdHMvUG9seWdvbi50cyJdLCJuYW1lcyI6WyJfX2V4dGVuZHMiLCJ0aGlzIiwiZCIsImIiLCJfXyIsImNvbnN0cnVjdG9yIiwicCIsImhhc093blByb3BlcnR5IiwicHJvdG90eXBlIiwiT2JqZWN0IiwiY3JlYXRlIiwiUlRNYXRoXzEiLCJyZXF1aXJlIiwiQWJzdHJhY3RPYmplY3RfMSIsIkNvbG9yXzEiLCJNYXRlcmlhbF8xIiwiVmVjdG9yXzEiLCJQb2x5Z29uIiwiX3N1cGVyIiwiUG9seWdvbi5jb25zdHJ1Y3RvciIsIlBvbHlnb24uZ2V0SW50ZXJzZWN0RGF0YSIsIlBvbHlnb24uZ2V0TWF0ZXJpYWwiLCJQb2x5Z29uLmdldE5vcm1hbCIsIlBvbHlnb24uZ2V0UG9zaXRpb24iLCJQb2x5Z29uLmdldFJhbmRvbVBvaW50IiwiUG9seWdvbi5zZXRNYXRlcmlhbCIsIlBvbHlnb24uY2hlY2tTYW1lQ2xvY2tEaXIiLCJBYnN0cmFjdE9iamVjdCIsImV4cG9ydHMiXSwibWFwcGluZ3MiOiJBQUFBLEdBQUlBLFdBQWFDLE1BQVFBLEtBQUtELFdBQWMsU0FBVUUsRUFBR0MsR0FFckQsUUFBU0MsS0FBT0gsS0FBS0ksWUFBY0gsRUFEbkMsSUFBSyxHQUFJSSxLQUFLSCxHQUFPQSxFQUFFSSxlQUFlRCxLQUFJSixFQUFFSSxHQUFLSCxFQUFFRyxHQUVuREosR0FBRU0sVUFBa0IsT0FBTkwsRUFBYU0sT0FBT0MsT0FBT1AsSUFBTUMsRUFBR0ksVUFBWUwsRUFBRUssVUFBVyxHQUFJSixLQ0huRk8sU0FBQUMsUUFBdUIsYUFDdkJDLGlCQUFBRCxRQUErQixvQkFDL0JFLFFBQUFGLFFBQXNCLGtCQUN0QkcsV0FBQUgsUUFBeUIsZUFHekJJLFNBQUFKLFFBQXVCLGFBRXZCSyxRQUFBLFNBQUFDLEdBSUlELFFBQUFBLEtERUksSUNGU0UsR0FBQUEsTUFBQUEsRUFBQUEsRUFBQUEsRUFBQUEsVUFBQUEsT0FBQUEsSUFBQUEsRUFBQUEsRUFBQUEsR0FBQUEsVUFBQUEsRUFDVEEsR0FBQUEsS0FBQUEsTUFISUEsS0FBQUEsU0FBcUJBLEdBQUlBLFlBQUFBLFNBQVNBLFFBQUFBLE1BQU1BLE1BSzVDQSxLQUFLQSxTQUFXQSxFQW9GeEJGLE1BM0Y2QkEsV0FBQUEsRUFBQUEsR0FVbEJBLEVBQUFBLFVBQUFBLGlCQUFQQSxTQUF5QkEsR0FDckJHLEdBQUlBLEdBQ0FBLEVBQ0FBLEVBRUFBLEVBQ0FBLEVBRkFBLEVBQWlCQSxLQUFLQSxXQVcxQkEsSUFQQUEsRUFBeUJBLFNBQUFBLE9BQU9BLElBQUlBLEtBQUtBLFNBQVNBLEdBQUlBLEdBRXREQSxFQUFjQSxTQUFBQSxPQUFPQSxJQUFJQSxFQUFRQSxFQUFJQSxnQkFDckNBLEdBQWFBLFNBQUFBLE9BQU9BLElBQUlBLEVBQVFBLEVBQUlBLGFBQWVBLEVBRW5EQSxFQUFXQSxFQUFZQSxJQUVuQkEsRUFBV0EsU0FBQUEsT0FBT0EsU0FBdEJBLENBSUFBLEVBQVdBLEVBQUlBLFlBQVlBLEVBRTNCQSxLQUFLQSxHQUFJQSxHQUFJQSxFQUFHQSxFQUFpQkEsS0FBS0EsU0FBU0EsT0FBWUEsRUFBSkEsRUFBb0JBLElBQUtBLENBQzVFQSxHQUFJQSxHQUFrQkEsS0FBS0EsU0FBU0EsR0FDaENBLEVBQU9BLE1BUVhBLElBTElBLEVBREFBLElBQU1BLEVBQWlCQSxFQUNiQSxLQUFLQSxTQUFTQSxHQUVkQSxLQUFLQSxTQUFTQSxFQUFJQSxJQUkzQkEsRUFBUUEsa0JBQ0xBLFNBQUFBLE9BQU9BLFVBQVVBLEVBQVNBLEdBQzFCQSxTQUFBQSxPQUFPQSxVQUFVQSxFQUFVQSxHQUMzQkEsS0FBS0EsYUFHVEEsT0FJUkEsT0FDSUEsU0FBVUEsRUFDVkEsT0FBUUEsRUFDUkEsU0FBVUEsS0FJWEgsRUFBQUEsVUFBQUEsWUFBUEEsV0FDSUksTUFBT0EsTUFBS0EsVUFHVEosRUFBQUEsVUFBQUEsVUFBUEEsV0FDSUssR0FBSUEsR0FBZ0JBLFNBQUFBLE9BQU9BLFVBQVVBLEtBQUtBLFNBQVNBLEdBQUlBLEtBQUtBLFNBQVNBLElBQ2pFQSxFQUFnQkEsU0FBQUEsT0FBT0EsVUFBVUEsS0FBS0EsU0FBU0EsR0FBSUEsS0FBS0EsU0FBU0EsR0FFckVBLE9BQU9BLFVBQUFBLE9BQU9BLFVBQVVBLFNBQUFBLE9BQU9BLE1BQU1BLEVBQU9BLEtBR3pDTCxFQUFBQSxVQUFBQSxZQUFQQSxXQUNJTSxNQUFPQSxNQUFLQSxTQUFTQSxJQUlsQk4sRUFBQUEsVUFBQUEsZUFBUEEsV0FDSU8sTUFBT0EsSUFBSUEsVUFBQUEsT0FBT0EsRUFBR0EsRUFBR0EsSUFJckJQLEVBQUFBLFVBQUFBLFlBQVBBLFNBQW9CQSxHQUdoQlEsTUFGQUEsTUFBS0EsU0FBV0EsRUFFVEEsTUFHSVIsRUFBQUEsa0JBQWZBLFNBQWtDQSxFQUFpQkEsRUFBaUJBLEdBQ2hFUyxHQUFJQSxHQUFxQkEsU0FBQUEsT0FBT0EsTUFBTUEsRUFBU0EsRUFFL0NBLE9BQU9BLFVBQUFBLE9BQU9BLElBQUlBLEVBQVlBLElBQVdBLEdBRWpEVCxHQTNGNkJKLGlCQUFBYyxlQUFoQkMsU0FBQVgsUUFBT0EiLCJmaWxlIjoiT2JqZWN0cy9Qb2x5Z29uLmpzIiwic291cmNlc0NvbnRlbnQiOlsidmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCBmdW5jdGlvbiAoZCwgYikge1xuICAgIGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdO1xuICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbn07XG52YXIgUlRNYXRoXzEgPSByZXF1aXJlKFwiLi4vUlRNYXRoXCIpO1xudmFyIEFic3RyYWN0T2JqZWN0XzEgPSByZXF1aXJlKFwiLi9BYnN0cmFjdE9iamVjdFwiKTtcbnZhciBDb2xvcl8xID0gcmVxdWlyZShcIi4uL0NvbG9yL0NvbG9yXCIpO1xudmFyIE1hdGVyaWFsXzEgPSByZXF1aXJlKFwiLi4vTWF0ZXJpYWxcIik7XG52YXIgVmVjdG9yXzEgPSByZXF1aXJlKFwiLi4vVmVjdG9yXCIpO1xudmFyIFBvbHlnb24gPSAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhQb2x5Z29uLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIFBvbHlnb24oKSB7XG4gICAgICAgIHZhciB2ZXJ0aWNlcyA9IFtdO1xuICAgICAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgdmVydGljZXNbX2kgLSAwXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgICAgIH1cbiAgICAgICAgX3N1cGVyLmNhbGwodGhpcyk7XG4gICAgICAgIHRoaXMubWF0ZXJpYWwgPSBuZXcgTWF0ZXJpYWxfMS5NYXRlcmlhbChDb2xvcl8xLkNvbG9yLmdyYXkpO1xuICAgICAgICB0aGlzLnZlcnRpY2VzID0gdmVydGljZXM7XG4gICAgfVxuICAgIFBvbHlnb24ucHJvdG90eXBlLmdldEludGVyc2VjdERhdGEgPSBmdW5jdGlvbiAocmF5KSB7XG4gICAgICAgIHZhciBkaXN0YW5jZSwgZGlzdGFuY2VGcm9tQXhpc0NlbnRlciwgaGl0UG9pbnQsIG5vcm1hbCA9IHRoaXMuZ2V0Tm9ybWFsKCksIG51bWVyYXRvciwgZGVub21pbmF0b3I7XG4gICAgICAgIGRpc3RhbmNlRnJvbUF4aXNDZW50ZXIgPSBWZWN0b3JfMS5WZWN0b3IuZG90KHRoaXMudmVydGljZXNbMF0sIG5vcm1hbCk7XG4gICAgICAgIGRlbm9taW5hdG9yID0gVmVjdG9yXzEuVmVjdG9yLmRvdChub3JtYWwsIHJheS5nZXREaXJlY3Rpb24oKSk7XG4gICAgICAgIG51bWVyYXRvciA9IC1WZWN0b3JfMS5WZWN0b3IuZG90KG5vcm1hbCwgcmF5LmdldE9yaWdpbigpKSArIGRpc3RhbmNlRnJvbUF4aXNDZW50ZXI7XG4gICAgICAgIGRpc3RhbmNlID0gbnVtZXJhdG9yIC8gZGVub21pbmF0b3I7XG4gICAgICAgIGlmIChkaXN0YW5jZSA8IFJUTWF0aF8xLlJUTWF0aC5FUFNJTE9OKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaGl0UG9pbnQgPSByYXkuZ2V0SGl0UG9pbnQoZGlzdGFuY2UpO1xuICAgICAgICBmb3IgKHZhciBpID0gMCwgdmVydGljZXNMZW5ndGggPSB0aGlzLnZlcnRpY2VzLmxlbmd0aDsgaSA8IHZlcnRpY2VzTGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciB2ZXJ0ZXgxID0gdGhpcy52ZXJ0aWNlc1tpXSwgdmVydGV4MiA9IHZvaWQgMDtcbiAgICAgICAgICAgIGlmIChpID09PSB2ZXJ0aWNlc0xlbmd0aCAtIDEpIHtcbiAgICAgICAgICAgICAgICB2ZXJ0ZXgyID0gdGhpcy52ZXJ0aWNlc1swXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHZlcnRleDIgPSB0aGlzLnZlcnRpY2VzW2kgKyAxXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghUG9seWdvbi5jaGVja1NhbWVDbG9ja0RpcihWZWN0b3JfMS5WZWN0b3Iuc3Vic3RyYWN0KHZlcnRleDIsIHZlcnRleDEpLCBWZWN0b3JfMS5WZWN0b3Iuc3Vic3RyYWN0KGhpdFBvaW50LCB2ZXJ0ZXgxKSwgdGhpcy5nZXROb3JtYWwoKSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGhpdFBvaW50OiBoaXRQb2ludCxcbiAgICAgICAgICAgIG5vcm1hbDogbm9ybWFsLFxuICAgICAgICAgICAgZGlzdGFuY2U6IGRpc3RhbmNlXG4gICAgICAgIH07XG4gICAgfTtcbiAgICBQb2x5Z29uLnByb3RvdHlwZS5nZXRNYXRlcmlhbCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubWF0ZXJpYWw7XG4gICAgfTtcbiAgICBQb2x5Z29uLnByb3RvdHlwZS5nZXROb3JtYWwgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBlZGdlMSA9IFZlY3Rvcl8xLlZlY3Rvci5zdWJzdHJhY3QodGhpcy52ZXJ0aWNlc1syXSwgdGhpcy52ZXJ0aWNlc1swXSksIGVkZ2UyID0gVmVjdG9yXzEuVmVjdG9yLnN1YnN0cmFjdCh0aGlzLnZlcnRpY2VzWzFdLCB0aGlzLnZlcnRpY2VzWzBdKTtcbiAgICAgICAgcmV0dXJuIFZlY3Rvcl8xLlZlY3Rvci5ub3JtYWxpemUoVmVjdG9yXzEuVmVjdG9yLmNyb3NzKGVkZ2UxLCBlZGdlMikpO1xuICAgIH07XG4gICAgUG9seWdvbi5wcm90b3R5cGUuZ2V0UG9zaXRpb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZlcnRpY2VzWzBdO1xuICAgIH07XG4gICAgUG9seWdvbi5wcm90b3R5cGUuZ2V0UmFuZG9tUG9pbnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBuZXcgVmVjdG9yXzEuVmVjdG9yKDAsIDAsIDApO1xuICAgIH07XG4gICAgUG9seWdvbi5wcm90b3R5cGUuc2V0TWF0ZXJpYWwgPSBmdW5jdGlvbiAobWF0ZXJpYWwpIHtcbiAgICAgICAgdGhpcy5tYXRlcmlhbCA9IG1hdGVyaWFsO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIFBvbHlnb24uY2hlY2tTYW1lQ2xvY2tEaXIgPSBmdW5jdGlvbiAodmVjdG9yMSwgdmVjdG9yMiwgbm9ybWFsKSB7XG4gICAgICAgIHZhciBub3JtYWxWMVYyID0gVmVjdG9yXzEuVmVjdG9yLmNyb3NzKHZlY3RvcjIsIHZlY3RvcjEpO1xuICAgICAgICByZXR1cm4gVmVjdG9yXzEuVmVjdG9yLmRvdChub3JtYWxWMVYyLCBub3JtYWwpID49IDA7XG4gICAgfTtcbiAgICByZXR1cm4gUG9seWdvbjtcbn0pKEFic3RyYWN0T2JqZWN0XzEuQWJzdHJhY3RPYmplY3QpO1xuZXhwb3J0cy5Qb2x5Z29uID0gUG9seWdvbjtcbiIsImltcG9ydCB7IFJUTWF0aCB9IGZyb20gXCIuLi9SVE1hdGhcIjtcbmltcG9ydCB7IEFic3RyYWN0T2JqZWN0IH0gZnJvbSBcIi4vQWJzdHJhY3RPYmplY3RcIjtcbmltcG9ydCB7IENvbG9yIH0gZnJvbSBcIi4uL0NvbG9yL0NvbG9yXCI7XG5pbXBvcnQgeyBNYXRlcmlhbCB9IGZyb20gXCIuLi9NYXRlcmlhbFwiO1xuaW1wb3J0IHsgUmF5IH0gZnJvbSBcIi4uL1JheVwiO1xuaW1wb3J0IHsgUkdCQ29sb3IgfSBmcm9tIFwiLi4vQ29sb3IvUkdCQ29sb3JcIjtcbmltcG9ydCB7IFZlY3RvciB9IGZyb20gXCIuLi9WZWN0b3JcIjtcblxuZXhwb3J0IGNsYXNzIFBvbHlnb24gZXh0ZW5kcyBBYnN0cmFjdE9iamVjdCB7XG4gICAgcHJpdmF0ZSB2ZXJ0aWNlczogVmVjdG9yW107XG4gICAgcHJpdmF0ZSBtYXRlcmlhbDogTWF0ZXJpYWwgPSBuZXcgTWF0ZXJpYWwoQ29sb3IuZ3JheSk7XG5cbiAgICBjb25zdHJ1Y3RvciAoLi4udmVydGljZXM6IFZlY3RvcltdKSB7XG4gICAgICAgIHN1cGVyICgpO1xuXG4gICAgICAgIHRoaXMudmVydGljZXMgPSB2ZXJ0aWNlcztcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0SW50ZXJzZWN0RGF0YSAocmF5OiBSYXkpOiBhbnkge1xuICAgICAgICBsZXQgZGlzdGFuY2U6IG51bWJlcixcbiAgICAgICAgICAgIGRpc3RhbmNlRnJvbUF4aXNDZW50ZXI6IG51bWJlcixcbiAgICAgICAgICAgIGhpdFBvaW50OiBWZWN0b3IsXG4gICAgICAgICAgICBub3JtYWw6IFZlY3RvciA9IHRoaXMuZ2V0Tm9ybWFsKCksXG4gICAgICAgICAgICBudW1lcmF0b3I6IG51bWJlcixcbiAgICAgICAgICAgIGRlbm9taW5hdG9yOiBudW1iZXI7XG5cbiAgICAgICAgZGlzdGFuY2VGcm9tQXhpc0NlbnRlciA9IFZlY3Rvci5kb3QodGhpcy52ZXJ0aWNlc1swXSwgbm9ybWFsKTtcblxuICAgICAgICBkZW5vbWluYXRvciA9IFZlY3Rvci5kb3Qobm9ybWFsLCByYXkuZ2V0RGlyZWN0aW9uKCkpO1xuICAgICAgICBudW1lcmF0b3IgPSAtVmVjdG9yLmRvdChub3JtYWwsIHJheS5nZXRPcmlnaW4oKSkgKyBkaXN0YW5jZUZyb21BeGlzQ2VudGVyO1xuXG4gICAgICAgIGRpc3RhbmNlID0gbnVtZXJhdG9yIC8gZGVub21pbmF0b3I7XG5cbiAgICAgICAgaWYgKGRpc3RhbmNlIDwgUlRNYXRoLkVQU0lMT04pIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGhpdFBvaW50ID0gcmF5LmdldEhpdFBvaW50KGRpc3RhbmNlKTtcblxuICAgICAgICBmb3IgKGxldCBpID0gMCwgdmVydGljZXNMZW5ndGggPSB0aGlzLnZlcnRpY2VzLmxlbmd0aDsgaSA8IHZlcnRpY2VzTGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGxldCB2ZXJ0ZXgxOiBWZWN0b3IgPSB0aGlzLnZlcnRpY2VzW2ldLFxuICAgICAgICAgICAgICAgIHZlcnRleDI6IFZlY3RvcjtcblxuICAgICAgICAgICAgaWYgKGkgPT09IHZlcnRpY2VzTGVuZ3RoIC0gMSkge1xuICAgICAgICAgICAgICAgIHZlcnRleDIgPSB0aGlzLnZlcnRpY2VzWzBdO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB2ZXJ0ZXgyID0gdGhpcy52ZXJ0aWNlc1tpICsgMV07XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAhUG9seWdvbi5jaGVja1NhbWVDbG9ja0RpcihcbiAgICAgICAgICAgICAgICAgICAgVmVjdG9yLnN1YnN0cmFjdCh2ZXJ0ZXgyLCB2ZXJ0ZXgxKSxcbiAgICAgICAgICAgICAgICAgICAgVmVjdG9yLnN1YnN0cmFjdChoaXRQb2ludCwgdmVydGV4MSksXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZ2V0Tm9ybWFsKClcbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgaGl0UG9pbnQ6IGhpdFBvaW50LFxuICAgICAgICAgICAgbm9ybWFsOiBub3JtYWwsXG4gICAgICAgICAgICBkaXN0YW5jZTogZGlzdGFuY2VcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0TWF0ZXJpYWwgKCk6IE1hdGVyaWFsIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubWF0ZXJpYWw7XG4gICAgfVxuXG4gICAgcHVibGljIGdldE5vcm1hbCAoKTogVmVjdG9yIHtcbiAgICAgICAgbGV0IGVkZ2UxOiBWZWN0b3IgPSBWZWN0b3Iuc3Vic3RyYWN0KHRoaXMudmVydGljZXNbMl0sIHRoaXMudmVydGljZXNbMF0pLFxuICAgICAgICAgICAgZWRnZTI6IFZlY3RvciA9IFZlY3Rvci5zdWJzdHJhY3QodGhpcy52ZXJ0aWNlc1sxXSwgdGhpcy52ZXJ0aWNlc1swXSk7XG5cbiAgICAgICAgcmV0dXJuIFZlY3Rvci5ub3JtYWxpemUoVmVjdG9yLmNyb3NzKGVkZ2UxLCBlZGdlMikpO1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXRQb3NpdGlvbiAoKTogVmVjdG9yIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudmVydGljZXNbMF07XG4gICAgfVxuXG5cbiAgICBwdWJsaWMgZ2V0UmFuZG9tUG9pbnQgKCk6IFZlY3RvciB7XG4gICAgICAgIHJldHVybiBuZXcgVmVjdG9yKDAsIDAsIDApO1xuICAgIH1cblxuXG4gICAgcHVibGljIHNldE1hdGVyaWFsIChtYXRlcmlhbDogTWF0ZXJpYWwpOiB0aGlzIHtcbiAgICAgICAgdGhpcy5tYXRlcmlhbCA9IG1hdGVyaWFsO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIHByaXZhdGUgc3RhdGljIGNoZWNrU2FtZUNsb2NrRGlyICh2ZWN0b3IxOiBWZWN0b3IsIHZlY3RvcjI6IFZlY3Rvciwgbm9ybWFsOiBWZWN0b3IpOiBib29sZWFuIHtcbiAgICAgICAgbGV0IG5vcm1hbFYxVjI6IFZlY3RvciA9IFZlY3Rvci5jcm9zcyh2ZWN0b3IyLCB2ZWN0b3IxKTtcblxuICAgICAgICByZXR1cm4gVmVjdG9yLmRvdChub3JtYWxWMVYyLCBub3JtYWwpID49IDA7XG4gICAgfVxufVxuIl0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9
